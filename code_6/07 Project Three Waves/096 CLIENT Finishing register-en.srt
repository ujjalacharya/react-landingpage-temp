1
00:00:01,060 --> 00:00:05,910
All right so now what we need to do we need to fix the problem we have with the confirmed passport on

2
00:00:05,910 --> 00:00:06,980
the validations.

3
00:00:07,150 --> 00:00:13,790
So I'm going to say this I'm going to go to the place where we can validate things.

4
00:00:13,840 --> 00:00:19,420
And you know I'm going to go right here and of course we need to add a new validation because right

5
00:00:19,420 --> 00:00:25,270
now we are saying that the validation we want to do is something called confirm and we don't have this

6
00:00:25,270 --> 00:00:26,290
rule right here.

7
00:00:26,470 --> 00:00:27,200
All right.

8
00:00:27,430 --> 00:00:29,310
So first we need to create it.

9
00:00:29,320 --> 00:00:32,640
So I'm going to go right here and say OK.

10
00:00:33,070 --> 00:00:44,530
If open and close if element just like with it before validation dot and confirm just like this then

11
00:00:44,530 --> 00:00:46,510
we will you know do something.

12
00:00:46,960 --> 00:00:47,630
All right.

13
00:00:47,770 --> 00:00:52,090
Just like here I'm going to copy this and we're going to change this a little bit.

14
00:00:52,090 --> 00:00:54,610
Now what do we need to do.

15
00:00:54,730 --> 00:00:58,080
We need to check the value that comes for this field.

16
00:00:58,110 --> 00:00:58,600
Right.

17
00:00:58,750 --> 00:01:04,780
So we just do the same thing with it required we access the element the value and we do a trim because

18
00:01:04,780 --> 00:01:10,870
we don't want white spaces that are going to equals to something.

19
00:01:10,900 --> 00:01:19,840
Now we only say that this element is valid that it's true as long as this is equal to what to the input

20
00:01:19,840 --> 00:01:21,580
we have right here to the passport.

21
00:01:21,760 --> 00:01:26,170
And if you remember we do have access to form data when devolve the accent.

22
00:01:26,170 --> 00:01:33,610
So what we need to do is to enter form data sorry and enter form data and say OK we want to check and

23
00:01:33,610 --> 00:01:40,060
we want to do that to check inside form data for a field that calls passport.

24
00:01:40,150 --> 00:01:41,240
So what do we do.

25
00:01:41,240 --> 00:01:49,700
Again we say element just like this element dot validation because we have the key right there and then

26
00:01:49,720 --> 00:01:50,710
confer.

27
00:01:50,980 --> 00:01:53,540
And it's going to enter to that particular field.

28
00:01:53,620 --> 00:01:57,250
And then of course we want to match it against the value of that one.

29
00:01:57,250 --> 00:02:03,400
So of course if the there's value on this element it's something and it's not matching the one of the

30
00:02:03,400 --> 00:02:04,310
other elements.

31
00:02:04,480 --> 00:02:06,150
So this will be true I'm sorry.

32
00:02:06,150 --> 00:02:06,630
False.

33
00:02:06,670 --> 00:02:09,470
So we will have a validation error message.

34
00:02:09,700 --> 00:02:10,360
So OK.

35
00:02:10,690 --> 00:02:19,710
So what we do is say well we say passport do not match or passports do not match.

36
00:02:19,720 --> 00:02:20,230
Right.

37
00:02:20,260 --> 00:02:23,530
And then we pretty much return the same thing.

38
00:02:23,530 --> 00:02:24,060
All right.

39
00:02:24,280 --> 00:02:29,500
So again if you check this we could do something else maybe create a function or something like that

40
00:02:29,760 --> 00:02:34,750
where we just returned different error message messages and we just returned that function because right

41
00:02:34,750 --> 00:02:36,640
now we are kind of repeating a lot of code.

42
00:02:36,640 --> 00:02:39,530
So this could be something we could change in the future in the future.

43
00:02:39,650 --> 00:02:40,240
All right.

44
00:02:40,780 --> 00:02:43,430
So we do have a validation.

45
00:02:43,660 --> 00:02:44,930
What is the next problem.

46
00:02:45,280 --> 00:02:46,750
Now when we registered.

47
00:02:46,810 --> 00:02:51,160
Everything is going to be valid it's assumed that everything is valid and we just go to the server with

48
00:02:51,160 --> 00:02:52,690
the data to submit.

49
00:02:52,720 --> 00:02:57,270
Now inside of the data to submit we will get the confirmed passport.

50
00:02:57,330 --> 00:02:58,600
Let's check it out.

51
00:02:58,600 --> 00:03:05,580
So we're going to inspect going out reload just in case I'm going to enter a name and I have the I would

52
00:03:05,580 --> 00:03:06,140
have failed.

53
00:03:06,160 --> 00:03:07,630
So I'm going to do that.

54
00:03:07,780 --> 00:03:16,180
And then password one two three and then password 1 two three can create an account going to go to cancel

55
00:03:16,780 --> 00:03:18,730
and pretty much get it.

56
00:03:18,730 --> 00:03:23,890
So it's to confirm password the e-mail the last name password and password.

57
00:03:23,900 --> 00:03:26,550
So the thing is that we need to remove this confirm password.

58
00:03:26,560 --> 00:03:29,160
We don't need it on the database.

59
00:03:29,170 --> 00:03:29,470
All right.

60
00:03:29,470 --> 00:03:30,760
So how can we do this.

61
00:03:30,910 --> 00:03:36,090
Now if you remember whenever we are doing this we are generating the data that we need to submit.

62
00:03:36,130 --> 00:03:39,580
We are passing the action of this form to what are we doing.

63
00:03:39,580 --> 00:03:41,470
This is the Register's section.

64
00:03:41,710 --> 00:03:49,330
So what we can do inside the form actions we can enter the place where we generated data and say OK

65
00:03:49,330 --> 00:03:50,260
do all of this.

66
00:03:50,380 --> 00:03:53,650
But if the form is register don't do it.

67
00:03:53,650 --> 00:03:58,660
Or maybe if the if the key it's Kimper X confirm password don't do it you can do it.

68
00:03:58,700 --> 00:04:00,930
No it's just just a single rule.

69
00:04:00,940 --> 00:04:07,960
So what I'm going to do I'm going to use the Confirm password because we don't need it here or in any

70
00:04:07,960 --> 00:04:15,340
other place I'm going to say if the key of this one is different then confirm password which is the

71
00:04:15,610 --> 00:04:18,490
thing we are using right here Cf. password.

72
00:04:18,730 --> 00:04:21,900
Then we want to do it if not of course don't do it.

73
00:04:21,970 --> 00:04:25,000
So I'm going to copy and put it inside.

74
00:04:25,090 --> 00:04:29,160
Real simple just logic.

75
00:04:29,160 --> 00:04:36,290
So let's try again again to Phil and then whatever and then whatever.

76
00:04:36,370 --> 00:04:45,400
Of course I need two matches so pass word one two three and then password one two three and they match

77
00:04:45,810 --> 00:04:46,320
Frigga.

78
00:04:46,360 --> 00:04:50,180
Create an account and we get email last name and password.

79
00:04:50,190 --> 00:04:51,430
So a very good man.

80
00:04:51,640 --> 00:04:52,840
So now what do we need to do.

81
00:04:52,900 --> 00:04:56,830
We need to grab all of this information and send it to the server.

82
00:04:56,920 --> 00:05:02,830
And just like we did with the log in we can create an action dispatch the action and everything else.

83
00:05:02,970 --> 00:05:05,870
OK so let's create the user action for this one.

84
00:05:06,220 --> 00:05:08,800
I'm going to call it we're just a user.

85
00:05:08,800 --> 00:05:11,920
Pretty clear register and then user.

86
00:05:12,260 --> 00:05:12,930
OK.

87
00:05:13,080 --> 00:05:15,650
We will still use user actions.

88
00:05:15,700 --> 00:05:17,550
So this is the name of our function.

89
00:05:17,560 --> 00:05:22,180
So I'm going to copy this and I'm going to go to user actions now instead of user actions.

90
00:05:22,180 --> 00:05:23,720
We just need to create a function.

91
00:05:23,720 --> 00:05:30,310
So I'm going to go right here the top export function and then the name of the function just like the

92
00:05:30,310 --> 00:05:34,420
log in we will be getting data to submit.

93
00:05:34,480 --> 00:05:35,590
Pretty clear.

94
00:05:35,650 --> 00:05:36,230
All right.

95
00:05:36,490 --> 00:05:41,300
So right here I'm going to go and create a contest called request.

96
00:05:41,350 --> 00:05:47,800
You can call this whatever you want X CEOs and we will do a post request that you are all just like

97
00:05:47,800 --> 00:05:51,720
the luggin is going to be users server and then for Slash.

98
00:05:51,730 --> 00:05:55,310
And if you remember because I remember it's register.

99
00:05:55,570 --> 00:06:01,470
All right then what do we need to do is we need to pass the data to submit data to submit.

100
00:06:01,690 --> 00:06:08,690
Then I'm going to go and say OK what we want to do we one then return a response and would the would

101
00:06:08,800 --> 00:06:16,340
the response along with the response is going to be response that data just like with it before it's

102
00:06:16,360 --> 00:06:19,000
over turn opening close and would read up.

103
00:06:19,000 --> 00:06:26,270
We always need to return a type and a payload so type and then payload.

104
00:06:26,510 --> 00:06:28,770
I'm going to go and create a type for this.

105
00:06:28,810 --> 00:06:30,210
We don't have it.

106
00:06:30,240 --> 00:06:35,710
So at the time are going to call it register and then user whenever a creed types.

107
00:06:35,830 --> 00:06:37,940
I always attach something related.

108
00:06:37,970 --> 00:06:42,190
Well you know what we are doing in this case is user so it's going to be user.

109
00:06:42,370 --> 00:06:44,420
We don't have the type we need to create it.

110
00:06:44,530 --> 00:06:52,170
So it's going to be export Konst register user equals to register and then user.

111
00:06:52,240 --> 00:06:53,680
Now we have a type.

112
00:06:53,680 --> 00:07:00,600
Now what we don't have so far is going to be the the of course the reducer.

113
00:07:00,640 --> 00:07:03,470
So we're going to cope a copy register user.

114
00:07:03,580 --> 00:07:07,230
And what we send back on the payload it's going to be the request.

115
00:07:07,330 --> 00:07:08,360
Very good.

116
00:07:08,650 --> 00:07:10,780
And they make this a little bit nicer.

117
00:07:10,780 --> 00:07:11,350
All right.

118
00:07:11,800 --> 00:07:15,340
So now let's go to the producer go to use a producer.

119
00:07:15,490 --> 00:07:18,450
And of course we need to bring that type.

120
00:07:18,470 --> 00:07:22,040
So copy and paste.

121
00:07:22,060 --> 00:07:23,120
All right.

122
00:07:23,230 --> 00:07:31,330
Now in case we have we just are users so case register user in case we have a return opening closed

123
00:07:32,200 --> 00:07:38,810
we returned the previous state coma and then we have a register something like this you could call register

124
00:07:38,830 --> 00:07:46,810
success or whatever you want to use and then action that payload not from the server the register.

125
00:07:46,810 --> 00:07:48,470
And this is something I don't remember.

126
00:07:48,520 --> 00:07:50,210
I'm going to check it right here.

127
00:07:50,410 --> 00:07:55,680
Whenever we were just our end user when we find it we are sending SS to.

128
00:07:55,740 --> 00:07:56,040
OK.

129
00:07:56,150 --> 00:08:01,780
Let's get it enough so we will be getting this.

130
00:08:01,790 --> 00:08:08,360
So now the only thing we need to do from Register is to dispatch an action and use of course this right

131
00:08:08,360 --> 00:08:14,730
now if five of the application at least it's not failing so it should be OK.

132
00:08:15,040 --> 00:08:15,540
OK.

133
00:08:15,740 --> 00:08:17,040
So let's go right here.

134
00:08:17,230 --> 00:08:23,370
Going to delete this log of data to submit and we need to dispatch the action right.

135
00:08:23,600 --> 00:08:26,400
So what do we need to do is go right here.

136
00:08:26,450 --> 00:08:34,640
We say this that prompts that this patch this patch opening close.

137
00:08:34,640 --> 00:08:35,600
Where will we be.

138
00:08:35,630 --> 00:08:36,040
We will.

139
00:08:36,100 --> 00:08:40,940
We will this patch is that register user along with the data to submit.

140
00:08:41,090 --> 00:08:43,650
And just like with that before going to use the promise.

141
00:08:43,670 --> 00:08:46,030
So then open and close.

142
00:08:46,650 --> 00:08:47,120
OK.

143
00:08:47,420 --> 00:08:50,840
So we will send a response back and oh sorry sorry.

144
00:08:50,870 --> 00:08:52,120
We will get a response.

145
00:08:52,250 --> 00:08:55,760
And then of course we're going to run the callback right.

146
00:08:56,180 --> 00:08:59,330
So if you remember we have that success from the server.

147
00:08:59,450 --> 00:09:03,000
So we will pretty much do the same thing before we're going to do.

148
00:09:03,020 --> 00:09:07,210
We're going to do this on a different and different weights different ways later.

149
00:09:07,220 --> 00:09:09,060
For now we're going to do it just like this.

150
00:09:09,130 --> 00:09:17,350
It's a response that payload that success this is what we get from the server if we get a success we

151
00:09:17,440 --> 00:09:18,850
get to do something.

152
00:09:18,860 --> 00:09:22,140
Of course if something fails we're going to do something else.

153
00:09:22,160 --> 00:09:23,390
So I'm going to say this.

154
00:09:23,390 --> 00:09:29,260
That said state opening close and we're going to save for form.

155
00:09:29,290 --> 00:09:31,870
Error equals two.

156
00:09:31,880 --> 00:09:33,180
All right.

157
00:09:33,500 --> 00:09:38,050
Of course if something else goes wrong we need to do the catch.

158
00:09:38,180 --> 00:09:44,090
And this is more laded of error with the server itself not with the actual request or what we get back

159
00:09:44,090 --> 00:09:45,170
from Mongo.

160
00:09:45,200 --> 00:09:48,870
So we pretty much saying say the same thing we just say Do try again.

161
00:09:48,880 --> 00:09:49,790
Something is wrong.

162
00:09:49,970 --> 00:09:51,280
All right.

163
00:09:51,680 --> 00:09:53,250
So what are you going to do.

164
00:09:53,320 --> 00:09:58,990
Whenever we log in what I want to do I want to show a message right.

165
00:09:59,000 --> 00:10:04,870
I want to show a message in a dialog box and then redirect the user back to the log in.

166
00:10:04,880 --> 00:10:12,260
So what I'm going to do I'm going to say this that said state opening close and I'm going to say that

167
00:10:12,260 --> 00:10:13,390
the form error.

168
00:10:13,580 --> 00:10:19,390
Of course we can change it default because we have no errors and are going to change the form success

169
00:10:19,900 --> 00:10:20,250
to

170
00:10:23,150 --> 00:10:29,420
and after this happens I want to re direct the user to someplace else so you can do a callback right

171
00:10:29,420 --> 00:10:30,850
here on the set state.

172
00:10:30,860 --> 00:10:36,770
You know after the state which can trigger something or you can do you know maybe a set timeout or something

173
00:10:36,770 --> 00:10:37,790
like that.

174
00:10:37,850 --> 00:10:44,570
So I'm going to do set time out and I'm going to run this function after you know a couple of seconds

175
00:10:44,990 --> 00:10:46,880
going to three seconds.

176
00:10:47,030 --> 00:10:48,900
You can put again whatever you want.

177
00:10:49,130 --> 00:10:53,880
Since this route it's completely is directly related to react Roder.

178
00:10:53,990 --> 00:11:04,850
We can do this that prompts that history history that push opening close and we will send the user back

179
00:11:04,850 --> 00:11:12,760
to slash register underscore Lagann so they can you know log in with the user and password.

180
00:11:13,010 --> 00:11:15,300
All right man let's try again.

181
00:11:15,560 --> 00:11:16,450
So.

182
00:11:16,640 --> 00:11:25,070
Oh of course if we try again after three for three seconds this is going to happen for sure for sure.

183
00:11:25,070 --> 00:11:28,830
Now before this happens I want to know at least show something.

184
00:11:29,000 --> 00:11:30,770
So we will use a dialogue.

185
00:11:30,830 --> 00:11:34,400
And we're going to import it from material to you.

186
00:11:34,730 --> 00:11:39,320
So import dialogue just like this.

187
00:11:39,500 --> 00:11:40,750
Make it right.

188
00:11:41,090 --> 00:11:52,340
Capital di di lock that from open and close and at material you I core for Slash and the name of whatever

189
00:11:52,340 --> 00:11:55,110
we are importing.

190
00:11:55,400 --> 00:12:01,550
Now we need to create a dialogue going to go at the bottom and begin to put it at the very end of the

191
00:12:01,610 --> 00:12:05,750
of the actual template because you know it's just a dialogue.

192
00:12:05,850 --> 00:12:10,170
Let me do this and go right here at the bottom.

193
00:12:10,280 --> 00:12:14,510
Now of course the dialogue will never show unless we want to.

194
00:12:14,540 --> 00:12:19,160
So I'm going to open and close the dialogue now with mature UI and dialogues.

195
00:12:19,250 --> 00:12:23,920
We need to tell the component if we should show it or not.

196
00:12:23,990 --> 00:12:29,440
And since we have a form success we only want to show this whenever we have the form.

197
00:12:29,450 --> 00:12:32,600
Success on the true state.

198
00:12:32,700 --> 00:12:34,830
So you know it's going to open.

199
00:12:34,930 --> 00:12:35,930
Now get him attached.

200
00:12:35,960 --> 00:12:38,870
Maybe we're going to add some maybe a dev.

201
00:12:39,030 --> 00:12:42,840
Oh that's weird that we're.

202
00:12:42,950 --> 00:12:52,700
Well sometimes the code fails but it works really good and it's free so I can attach a class name of

203
00:12:52,700 --> 00:12:56,920
dialogue just like this underscore alert.

204
00:12:57,170 --> 00:13:00,650
And on this one we will say I don't know man dev.

205
00:13:00,820 --> 00:13:04,180
Congratulations something like that.

206
00:13:04,250 --> 00:13:06,090
Congratulations.

207
00:13:07,190 --> 00:13:14,840
And of course a message saying I know you will be redirected to the log in in a couple of seconds something

208
00:13:14,840 --> 00:13:17,090
like that makes sense.

209
00:13:17,240 --> 00:13:20,670
Of course all of this dialog and the contents and everything else is going.

210
00:13:20,890 --> 00:13:24,140
It's going to come from the client or maybe the designer.

211
00:13:24,290 --> 00:13:26,950
Pretty much the designer but that is good.

212
00:13:27,380 --> 00:13:30,970
So I'm going to save it and I got an error message.

213
00:13:31,050 --> 00:13:34,940
Fill up open string model.

214
00:13:35,000 --> 00:13:35,450
Open.

215
00:13:35,450 --> 00:13:39,130
I made a mistake with open double check it.

216
00:13:39,190 --> 00:13:41,850
There's that state that form success.

217
00:13:41,900 --> 00:13:43,120
Now it looks good.

218
00:13:43,130 --> 00:13:52,470
I don't know when I'm getting an error message.

219
00:13:52,540 --> 00:13:53,810
I know why.

220
00:13:53,980 --> 00:13:55,360
Right here we have this.

221
00:13:55,370 --> 00:13:57,810
That state that forms success.

222
00:13:57,910 --> 00:14:05,060
It says right here that open the open of typed string supplied to dialog expected to boolean.

223
00:14:05,080 --> 00:14:11,710
So I'm pretty sure that on the default to form success I'm using a string which is actually this so

224
00:14:11,710 --> 00:14:12,800
form success.

225
00:14:12,860 --> 00:14:19,200
If we do false begin to clear the message there we go OK.

226
00:14:19,500 --> 00:14:20,360
So let's try again.

227
00:14:20,400 --> 00:14:25,730
Of course I'm going to go to robo 3D because then the user will be receiving a new user.

228
00:14:25,860 --> 00:14:32,680
So I don't know what does the user have right now is Francis Francis at gmail dot com.

229
00:14:32,700 --> 00:14:36,010
All right so I'm going to use this one because I've already have the information.

230
00:14:36,120 --> 00:14:43,080
You can type whatever you want and the password is the same password one two three.

231
00:14:43,080 --> 00:14:43,740
All right.

232
00:14:43,740 --> 00:14:44,910
I'm going to create an account.

233
00:14:45,060 --> 00:14:47,960
Congratulations you'll be redirected and blah blah blah.

234
00:14:48,120 --> 00:14:51,610
And then we go to the log and never go to rubble with.

235
00:14:51,690 --> 00:14:52,670
An update.

236
00:14:52,710 --> 00:14:55,390
We do have a second user and everything is cool.

237
00:14:55,440 --> 00:14:59,480
So now I'm going to go to this and say pass word.

238
00:14:59,590 --> 00:15:00,800
One two three.

239
00:15:00,800 --> 00:15:03,080
Log in and log in success.

240
00:15:03,150 --> 00:15:05,810
So everything works very good man.

241
00:15:05,820 --> 00:15:11,850
So I'm going to sip this so you can you can compare the code with the one you have in your computer.

242
00:15:12,090 --> 00:15:19,290
And then we're going to do something very important because to set up begin to create the preventing

243
00:15:19,290 --> 00:15:26,670
router things because right now maybe the users log in and if they goes to user then dashboard is going

244
00:15:26,670 --> 00:15:29,420
to be able to log in you know able to enter.

245
00:15:29,550 --> 00:15:35,730
So we need to create a high order component with the south route we created on the server.

246
00:15:35,760 --> 00:15:42,060
Remember we we've created it now with that so we can decide if the user should be able to log in or

247
00:15:42,060 --> 00:15:48,270
log out and once we have that what we can do we can check with the out if the user of course is logged

248
00:15:48,270 --> 00:15:53,670
in or not and show some options or maybe some of the options if the user is not locked in.

249
00:15:53,670 --> 00:15:54,300
Right.

250
00:15:54,330 --> 00:15:57,260
Something like we do right here right now the user is not logged in.

251
00:15:57,330 --> 00:15:59,420
So we get home guitars and just log in.

252
00:15:59,580 --> 00:16:05,650
But if we log in we will get more options like my account my card and things like that.

253
00:16:05,880 --> 00:16:11,310
So on the next few seconds we're going to be doing that and I'm going to sip the code so far to give

254
00:16:11,310 --> 00:16:16,810
you a download sip or the way remember that the final code of all of this is a good help.

