1
00:00:00,570 --> 00:00:02,570
Good let's finish this.

2
00:00:02,590 --> 00:00:06,890
So OK so now what we need to do we need to do that we move image.

3
00:00:06,960 --> 00:00:14,520
But first I want to go back to the images hndler and well another image is remember that for example

4
00:00:14,640 --> 00:00:20,820
when we submit the form right after wards we set the fields.

5
00:00:20,820 --> 00:00:25,560
So this one is going to be a little bit weird because all the fields if you go to the when we find it

6
00:00:26,070 --> 00:00:30,530
we go to the utility and the form actions whenever we we set fields.

7
00:00:30,600 --> 00:00:35,100
We are we setting this to a string and the array of images.

8
00:00:35,220 --> 00:00:37,410
The images actually turn right.

9
00:00:37,500 --> 00:00:42,220
So where we need to do is side form actions that well there's actually two things you can do.

10
00:00:42,240 --> 00:00:46,250
You can create a conditional right here and catch the key it's images.

11
00:00:46,470 --> 00:00:49,230
So by default with images we will have an array.

12
00:00:49,590 --> 00:00:52,380
So if it's images we just set it back to an array.

13
00:00:52,380 --> 00:00:59,240
If not you'd set it back to a single string and empty or you can since we are passing and that's that's

14
00:00:59,280 --> 00:01:02,250
why we are doing we are passing the keyboard right here.

15
00:01:02,260 --> 00:01:07,620
Products you can evaluate if you have products and then you can evaluate if you have an image and then

16
00:01:07,620 --> 00:01:11,460
reset it to you know the NRA going to do it just like that.

17
00:01:11,460 --> 00:01:16,430
I got to say if it was like the other one sorry going to say else.

18
00:01:17,010 --> 00:01:23,850
So if key Tribble equal images just like this.

19
00:01:23,930 --> 00:01:28,410
Then I'm going to grab and do the new form data value just like this.

20
00:01:28,440 --> 00:01:32,720
I'm going to copy this one at the bottom and I'm going to set it to an end right.

21
00:01:33,870 --> 00:01:38,850
And if not and it still change it to a string that is it you can do the same thing with ballot.

22
00:01:39,030 --> 00:01:44,370
But we are actually on the on the on right here whenever we we've said everything we are doing that

23
00:01:44,370 --> 00:01:45,870
job right there.

24
00:01:46,110 --> 00:01:47,260
That is good you know.

25
00:01:47,760 --> 00:01:50,680
So now let's do the file upload on remove.

26
00:01:50,940 --> 00:01:55,320
Whenever we click the image which is removed from the server and of course for this we need to create

27
00:01:55,320 --> 00:01:56,220
a route.

28
00:01:56,250 --> 00:02:02,140
So first let's create that request right here so we can clear that I'm going to go and say Actually

29
00:02:02,140 --> 00:02:10,620
those that get open and close and the request that you know your bill is going to be for Slash API for

30
00:02:10,620 --> 00:02:18,390
Slash usurps camp plural and then remove image and I get to use Christ's drinks.

31
00:02:18,390 --> 00:02:18,800
Why.

32
00:02:18,810 --> 00:02:21,440
Because we just need to pass on one value.

33
00:02:21,900 --> 00:02:27,900
So whenever we do remove We are passing the public ID and that is the only thing we need with Clogher

34
00:02:27,900 --> 00:02:29,940
Narey to remove the image.

35
00:02:30,090 --> 00:02:37,910
So we're going to say public public and then I.D. and it's equal to you know the IP we are passing as

36
00:02:38,010 --> 00:02:39,570
argument right here.

37
00:02:39,630 --> 00:02:48,540
So Id then of course we will get a response so we get a response and you might do this in a different

38
00:02:48,540 --> 00:02:48,870
way.

39
00:02:48,870 --> 00:02:50,430
For example I'm going to do.

40
00:02:50,560 --> 00:02:54,460
I'm going to filter everything and read and read and then send the state back.

41
00:02:54,600 --> 00:03:00,660
But you might be evaluating that response because maybe the response from the Claudian Ari maybe the

42
00:03:00,660 --> 00:03:05,130
server was down or something like that and instead of a good response you get a response.

43
00:03:05,250 --> 00:03:07,390
So you can check right here if the response.

44
00:03:07,410 --> 00:03:11,140
It's not equal to true or something you get back from the server.

45
00:03:11,250 --> 00:03:14,300
And then of course execute whatever you want to execute.

46
00:03:14,370 --> 00:03:18,550
But I'm not going to do it because it's going to take us more time and I don't really want to do it.

47
00:03:18,660 --> 00:03:24,570
And besides if you are not if you were able to upload the image most likely you were not able to remove

48
00:03:24,570 --> 00:03:26,770
the image right because the servers now.

49
00:03:26,800 --> 00:03:27,190
Right.

50
00:03:27,270 --> 00:03:27,890
That's fine.

51
00:03:28,080 --> 00:03:35,670
So since we are deleting the image we have the ID and the ID we have it right here we have a set of

52
00:03:35,910 --> 00:03:38,520
elements and inside of course the I.D..

53
00:03:38,700 --> 00:03:40,770
So what we need to do we need to filter.

54
00:03:40,800 --> 00:03:44,310
We need to remove that image from the from the state.

55
00:03:44,450 --> 00:03:48,030
So going to create a new viral called Images equal to this.

56
00:03:48,030 --> 00:03:54,790
That state that uploaded files and we're going to do a simple feature.

57
00:03:55,140 --> 00:04:01,180
Now this filter of course we need to run a function and we're going to pass an item on each iteration

58
00:04:01,560 --> 00:04:04,150
and afterwards of course we run something.

59
00:04:04,380 --> 00:04:09,860
Now what we need to do whenever we use a filter we need to return something and create a new array.

60
00:04:10,020 --> 00:04:15,870
So we're going to return all the entries so long as they don't have the idea that we are passing because

61
00:04:15,950 --> 00:04:17,930
you know it was removed from the server.

62
00:04:18,210 --> 00:04:24,650
So I'm going to say item that public I.D. It's different than the ID.

63
00:04:24,920 --> 00:04:30,500
And this will generate a new array without that particular ID is going to remove that entry.

64
00:04:30,660 --> 00:04:35,540
And then of course we just said the state so this that set stayed pretty close.

65
00:04:35,670 --> 00:04:42,100
And we say that now uploaded files is going to be equal to the Whenever we get back from images.

66
00:04:42,300 --> 00:04:47,850
And of course since we are updating the state right here on this we need to tell the parent that now

67
00:04:47,850 --> 00:04:55,740
the images changed so this that Probs not images handler opening close and we pass the new state of

68
00:04:55,800 --> 00:04:59,200
images just like this.

69
00:05:00,060 --> 00:05:00,680
All right.

70
00:05:01,230 --> 00:05:03,430
So now of course we need to create this route.

71
00:05:03,600 --> 00:05:09,900
We don't have this route so let's go to the server and I am going to go and maybe create it right here

72
00:05:09,900 --> 00:05:10,880
at the bottom.

73
00:05:10,890 --> 00:05:12,970
Now to remove an image from Cliveden.

74
00:05:12,990 --> 00:05:14,670
Again it's just like uploading images.

75
00:05:14,670 --> 00:05:16,150
It's very very simple.

76
00:05:16,200 --> 00:05:20,760
So we can have an app that get open and close the route.

77
00:05:20,770 --> 00:05:26,580
It's still forced lasht API for Shlash users and then remove image.

78
00:05:26,580 --> 00:05:29,510
We still need the south and the admin.

79
00:05:29,640 --> 00:05:33,900
And now this time we don't need formidable because we're not sending files right.

80
00:05:34,080 --> 00:05:39,950
We just go to the callback so request and response.

81
00:05:40,050 --> 00:05:40,620
Right.

82
00:05:40,890 --> 00:05:45,940
So we will be getting from the query from sequestering the image IDs.

83
00:05:45,960 --> 00:05:49,050
So Image ID or it could be public ID.

84
00:05:49,070 --> 00:05:51,570
It's actually the public ID but doesn't matter.

85
00:05:51,570 --> 00:05:58,440
So we get the request that query that and then public ID right.

86
00:05:58,860 --> 00:06:03,010
So now we have the ID we need to tell clouting houri to Ansted this image.

87
00:06:03,120 --> 00:06:09,470
So we say cloud denarii dot uploader dot this Troy.

88
00:06:10,330 --> 00:06:11,330
Open and close.

89
00:06:11,720 --> 00:06:16,140
And again the first argument is going to be the idea of whenever we want to destroy.

90
00:06:16,320 --> 00:06:18,320
And then of course we get the callback.

91
00:06:18,360 --> 00:06:20,920
So open it close run a callback.

92
00:06:21,180 --> 00:06:27,140
Now this callback contains an error and this is where you can catch that error and send that response.

93
00:06:27,150 --> 00:06:30,300
And of course catch it from the client and do something else.

94
00:06:30,480 --> 00:06:34,020
So a result that is the second argument.

95
00:06:34,300 --> 00:06:34,720
OK.

96
00:06:34,860 --> 00:06:43,440
So if we do get an error we are going to send an error back so error we can every turn responds that

97
00:06:43,440 --> 00:06:47,340
Jason at this point is not necessary because we are not catching it from the client.

98
00:06:47,580 --> 00:06:50,230
So were going to say success falls.

99
00:06:50,250 --> 00:06:54,770
So now in the kind you can check for success and if its true you move forward.

100
00:06:54,780 --> 00:06:56,460
If its not to do something else.

101
00:06:56,630 --> 00:07:02,630
But for now we're just going to send something simple status of 200 and then send.

102
00:07:03,180 --> 00:07:03,880
OK.

103
00:07:04,020 --> 00:07:06,790
You know send something like this send.

104
00:07:06,810 --> 00:07:07,350
OK.

105
00:07:08,460 --> 00:07:13,240
And that is this will we will remove the image from cloud.

106
00:07:13,410 --> 00:07:15,010
So let's let's try it.

107
00:07:15,360 --> 00:07:22,180
So for go to add product up file AB load we know that we have the unclick on the remove.

108
00:07:22,290 --> 00:07:28,130
So hopefully everything is going to work I'm going to add an image.

109
00:07:28,170 --> 00:07:29,730
Whatever doesn't matter.

110
00:07:31,530 --> 00:07:36,200
And if I click at uncut promise request fail arrived a new problem.

111
00:07:36,630 --> 00:07:46,140
So users in public ID and from here from the server we are not getting anything.

112
00:07:46,240 --> 00:07:46,910
All right.

113
00:07:47,100 --> 00:07:48,550
OK so it's four or four.

114
00:07:48,580 --> 00:07:50,250
Maybe the route.

115
00:07:50,250 --> 00:07:51,690
It's incorrect.

116
00:07:52,260 --> 00:07:59,070
So public ID and if I go to the server API of course the route is incorrect.

117
00:07:59,130 --> 00:08:00,720
That's why we get a 4 or 4.

118
00:08:00,810 --> 00:08:05,070
It's not finding the correct route.

119
00:08:05,140 --> 00:08:09,010
So file upload its users.

120
00:08:09,100 --> 00:08:10,900
That is the problem.

121
00:08:10,930 --> 00:08:14,300
So API users now should be working.

122
00:08:14,340 --> 00:08:15,920
That's right again.

123
00:08:16,780 --> 00:08:19,020
So it's impossible to code without making mistakes.

124
00:08:19,030 --> 00:08:21,950
You know that even do.

125
00:08:21,940 --> 00:08:26,180
I'm I'm looking at the final code.

126
00:08:26,340 --> 00:08:28,560
I click it and he gets removed.

127
00:08:28,680 --> 00:08:29,060
Right.

128
00:08:29,170 --> 00:08:34,180
If of course if we go to clown denarii we are not going to get that image of course.

129
00:08:37,090 --> 00:08:40,350
I mean just reloaded it was the guitar.

130
00:08:40,370 --> 00:08:44,500
You know the back of the guitar is a little bit slow.

131
00:08:44,660 --> 00:08:49,330
And you know we get a free account so it should be slow.

132
00:08:51,510 --> 00:08:52,200
So there we go.

133
00:08:52,200 --> 00:08:53,450
We can get it right here.

134
00:08:53,460 --> 00:09:00,160
Let me just upload maybe a different image something that we we actually don't have.

135
00:09:00,210 --> 00:09:03,400
I don't like that guitar or no way at it.

136
00:09:03,410 --> 00:09:03,710
That's.

137
00:09:03,720 --> 00:09:05,060
This is my guitar.

138
00:09:05,100 --> 00:09:07,500
So such a good guitar man.

139
00:09:07,650 --> 00:09:08,500
Not for everyone.

140
00:09:08,500 --> 00:09:14,460
It's just for I would say professional but you need to have some mileage before grabbing that guitar.

141
00:09:14,460 --> 00:09:16,730
So here we get it.

142
00:09:16,830 --> 00:09:17,590
Very good man.

143
00:09:17,790 --> 00:09:18,540
Everything works.

144
00:09:18,630 --> 00:09:25,960
So I'm going to delete it and I'm going to go back and we shouldn't have the image anymore.

145
00:09:26,010 --> 00:09:28,480
So we don't get it.

146
00:09:28,520 --> 00:09:30,070
I mean so that is good.

147
00:09:31,030 --> 00:09:32,080
Works.

148
00:09:32,350 --> 00:09:38,300
Now before we move forward we need to check that everything gets uploaded to the server.

149
00:09:38,530 --> 00:09:42,730
Now again before I do that we want to handle the success.

150
00:09:42,820 --> 00:09:45,100
What happens when we finish uploading.

151
00:09:45,220 --> 00:09:49,540
And we said everything if that happens we will not be able to reset the images.

152
00:09:49,540 --> 00:09:52,630
We are we setting everything else but not the images.

153
00:09:52,630 --> 00:09:53,140
Right.

154
00:09:53,260 --> 00:09:59,770
So we need to unset the images from within the file upload component.

155
00:09:59,770 --> 00:10:03,770
When ever we said we will reset products but not file upload.

156
00:10:03,970 --> 00:10:07,000
If you remember we passed a property called reset.

157
00:10:07,000 --> 00:10:12,730
So whenever we catch the success whenever it changes to true begin to catch it from here and change

158
00:10:12,730 --> 00:10:15,890
the uploaded files back to an empty array.

159
00:10:16,150 --> 00:10:18,700
It's actually something very simple.

160
00:10:18,730 --> 00:10:24,820
There are many ways to do it but I'm going to show you this way some from the file upload when what

161
00:10:24,820 --> 00:10:31,910
I wanted to do I went to get that derived state from prop's we could do that just like this.

162
00:10:32,130 --> 00:10:38,110
So open it close and we will get prop's coma and this state.

163
00:10:38,250 --> 00:10:44,880
Now we want to do it that if I get the prompts and resets with the queue we're true you know it's true

164
00:10:44,910 --> 00:10:46,970
props and then reset.

165
00:10:47,070 --> 00:10:57,790
Then we want to return state with the uploaded files back to nothing.

166
00:10:57,830 --> 00:10:58,610
All right.

167
00:10:58,610 --> 00:11:03,870
And of course if nothing happens we will return NULL.

168
00:11:03,900 --> 00:11:04,530
OK.

169
00:11:04,820 --> 00:11:05,140
We are.

170
00:11:05,180 --> 00:11:05,770
We are done.

171
00:11:05,780 --> 00:11:10,250
We just need to test that everything works and we just move forward to the next section.

172
00:11:10,250 --> 00:11:10,840
All right.

173
00:11:11,030 --> 00:11:16,070
So I'm going to reload the application again to add an image.

174
00:11:16,070 --> 00:11:19,720
I'm going to add maybe a different guitar.

175
00:11:21,020 --> 00:11:24,340
Ivan is the R.G. to 5:5 is a good guitar.

176
00:11:26,570 --> 00:11:34,750
This one is the I believe it's a version from the steep Bay guitar and maybe a couple of more one more

177
00:11:35,500 --> 00:11:39,100
one more OK.

178
00:11:39,210 --> 00:11:42,570
So their name is RG to 5:5.

179
00:11:42,600 --> 00:11:47,530
We get that scription going to copy from.

180
00:11:47,700 --> 00:11:49,080
What was the name of this.

181
00:11:49,230 --> 00:11:55,250
The lawyer remembers them and a mental breakdown right there.

182
00:11:55,270 --> 00:11:59,460
So on them copy something whatever it doesn't matter.

183
00:11:59,890 --> 00:12:00,850
A copy of this.

184
00:12:00,870 --> 00:12:03,650
Why not now maybe something small.

185
00:12:03,660 --> 00:12:06,000
Maybe not too much text.

186
00:12:06,360 --> 00:12:07,470
I'm going to copy.

187
00:12:07,740 --> 00:12:08,530
I'm going to paste.

188
00:12:08,700 --> 00:12:15,900
Cut the price for this guitar at least 151.

189
00:12:15,930 --> 00:12:20,100
Ok now it isn't even us it's shipping.

190
00:12:20,100 --> 00:12:22,060
Yes because it's an expensive guitar.

191
00:12:22,080 --> 00:12:25,530
We do have it in stock now.

192
00:12:25,560 --> 00:12:31,760
I believe they are older and the frets of course 24 frets and publish is going to be public.

193
00:12:31,770 --> 00:12:32,220
All right.

194
00:12:32,340 --> 00:12:32,820
So let's see.

195
00:12:32,820 --> 00:12:34,810
This is the moment of the truth.

196
00:12:34,900 --> 00:12:37,460
I'm going to add product and we get success.

197
00:12:37,460 --> 00:12:41,460
And if you go to the state we will of course we removed it.

198
00:12:41,460 --> 00:12:45,230
So let's check the rebel mood go products.

199
00:12:45,410 --> 00:12:48,300
And we got the R.G. to 5:5.

200
00:12:48,490 --> 00:12:49,520
Everything is true.

201
00:12:49,530 --> 00:12:50,610
Everything is good.

202
00:12:50,730 --> 00:12:54,770
And if we go to images we have three fields with images.

203
00:12:55,470 --> 00:12:56,150
Right.

204
00:12:56,400 --> 00:13:00,740
So in theory in theory if you go to guitars we should be able to see it.

205
00:13:00,760 --> 00:13:01,460
So there we go.

206
00:13:01,500 --> 00:13:05,650
We get the first image of the ivory All right.

207
00:13:06,390 --> 00:13:06,710
OK.

208
00:13:06,770 --> 00:13:08,280
So we are done with this.

209
00:13:08,300 --> 00:13:10,040
I'm going to snip everything.

210
00:13:10,130 --> 00:13:14,180
So you can compare code or you know maybe something is not working on yours.

211
00:13:14,360 --> 00:13:21,350
So you can check you know my code and on the next section we're going to do something related instead

212
00:13:21,350 --> 00:13:24,470
of app products begin to finish with the admin parts.

213
00:13:24,470 --> 00:13:27,560
I know that it's boring but it's not going to take this long.

214
00:13:27,560 --> 00:13:34,070
There are going to be it's going to be very fast maybe 10 10 or 20 minutes on each and then we do it

215
00:13:34,070 --> 00:13:39,020
to do the match category so we can and you can terrorist and the site Imphal and for this one we need

216
00:13:39,020 --> 00:13:40,430
to create a new model.

217
00:13:40,430 --> 00:13:45,980
So we still need to do a few things but again we're not going to spend a lot of time there they're going

218
00:13:45,980 --> 00:13:47,490
to be very very simple.

219
00:13:47,630 --> 00:13:49,480
And then we're going to go to be Tarz.

220
00:13:49,580 --> 00:13:55,550
And whenever we view a product we're going to get the product and after we do that then we can to go

221
00:13:55,550 --> 00:14:02,090
to all the logic inside the user information and then my cart ride whenever we add something to the

222
00:14:02,090 --> 00:14:02,720
cart.

223
00:14:02,780 --> 00:14:08,270
We want to update the number right here and whenever we go to my card we can see all the items in the

224
00:14:08,270 --> 00:14:08,970
cart.

225
00:14:09,080 --> 00:14:09,860
Do the math.

226
00:14:09,860 --> 00:14:15,290
And how many will the how many we need to pay the quantity and everything else it's going to be a little

227
00:14:15,290 --> 00:14:16,130
bit long.

228
00:14:16,370 --> 00:14:21,380
And then of course we're going to use paypal the sandbox of PayPal.

229
00:14:21,380 --> 00:14:21,700
All right.

230
00:14:21,740 --> 00:14:23,950
So again we still need to do a lot of things.

231
00:14:24,020 --> 00:14:30,080
So let's get the side info and demands could take a piece out of the way so we can go to the user account.

