1
00:00:00,660 --> 00:00:02,640
OK so let's do the load more.

2
00:00:02,780 --> 00:00:06,640
First I'm going to enclose everything going to undef then we're going to add a couple things.

3
00:00:06,650 --> 00:00:08,220
But for now you're good to go.

4
00:00:08,220 --> 00:00:12,540
So I'm going to say load then more and then container.

5
00:00:12,770 --> 00:00:13,550
All right.

6
00:00:13,820 --> 00:00:21,260
I'm going to wrap this inside of his pan and right here are going to say load more could be no capital

7
00:00:21,290 --> 00:00:28,130
and load more so on I'm going to attach an unclick to this to this button because of course we need

8
00:00:28,130 --> 00:00:29,600
to trigger an action.

9
00:00:29,630 --> 00:00:34,610
Now if you remember whenever we include this component to load more carts inside of the parent component

10
00:00:34,910 --> 00:00:37,760
we have a load more that triggers that function.

11
00:00:37,910 --> 00:00:38,360
OK.

12
00:00:38,690 --> 00:00:43,100
So the unclick is going to be equal to the props.

13
00:00:43,100 --> 00:00:46,810
Of course to bar or UPS that load more.

14
00:00:47,030 --> 00:00:47,930
That is it.

15
00:00:47,930 --> 00:00:51,810
So now whatever we cook it is going to go and triggered this ride.

16
00:00:51,830 --> 00:00:54,380
We should be getting at least a console lock.

17
00:00:55,130 --> 00:01:00,470
And this is because of course the server didn't restart it and we are trying to catch something that

18
00:01:00,470 --> 00:01:01,460
is good.

19
00:01:02,150 --> 00:01:06,970
So if I go to load more we get a lot more if I click at the consulate.

20
00:01:07,070 --> 00:01:07,750
OK.

21
00:01:08,300 --> 00:01:15,560
So it's out of here we will trigger a function called of course something related to load more.

22
00:01:15,600 --> 00:01:16,060
Right.

23
00:01:16,180 --> 00:01:17,260
OK.

24
00:01:17,360 --> 00:01:25,420
So this dot load more carts open and close to the function.

25
00:01:25,490 --> 00:01:25,980
Right.

26
00:01:26,000 --> 00:01:27,030
We don't have that function.

27
00:01:27,110 --> 00:01:29,930
Let's add it right now.

28
00:01:29,930 --> 00:01:32,300
So I'm going to go to load more carts.

29
00:01:32,410 --> 00:01:36,890
This one is going to be equal to a function and blah blah blah blah blah blah Burguet.

30
00:01:37,310 --> 00:01:44,270
So now what we need to do and this is a we are part of the load more carts whenever we load more could

31
00:01:44,270 --> 00:01:48,710
happen that we are in a different place than this.

32
00:01:48,770 --> 00:01:49,620
Right.

33
00:01:49,790 --> 00:01:52,140
We have maybe the application loads.

34
00:01:52,140 --> 00:01:52,750
All right.

35
00:01:53,000 --> 00:01:55,420
We have six results on our screen.

36
00:01:55,700 --> 00:02:01,420
If I click load more I don't want to replace this sex with another sex.

37
00:02:01,500 --> 00:02:04,890
What I want to do is bring the next sex.

38
00:02:05,030 --> 00:02:10,610
If you remember you have a skip and the skip starts at zero and the limit starts to six.

39
00:02:10,610 --> 00:02:16,730
That's why we get the result from the zero result the first result on the database and we get from 0

40
00:02:16,820 --> 00:02:18,370
6 that's why we get sex.

41
00:02:18,560 --> 00:02:24,050
So the next time we click load more instead of starting from the zero on the database I want to start

42
00:02:24,050 --> 00:02:28,460
from the sixth result and bring the next six.

43
00:02:28,490 --> 00:02:34,790
So when we do what we click load more we need to change this skip right here to 6 and then the next

44
00:02:34,790 --> 00:02:39,030
one is going to be tough tough on the next one is going to be 18 whatever.

45
00:02:39,140 --> 00:02:39,750
All right.

46
00:02:40,010 --> 00:02:44,990
So first I'm going to go right here and create create up Barville called Skipp.

47
00:02:45,230 --> 00:02:47,710
And this one is going to be equal to this that state.

48
00:02:47,870 --> 00:02:51,050
That's Kyp which is going to be a zero at the beginning.

49
00:02:51,050 --> 00:02:54,210
I'm sorry it's going to be 6 because we are getting six results.

50
00:02:54,260 --> 00:02:54,610
I'm sorry.

51
00:02:54,620 --> 00:02:56,240
It's going to be zero.

52
00:02:56,240 --> 00:02:58,430
Of course on the first time we load.

53
00:02:58,430 --> 00:03:00,540
We can do this.

54
00:03:00,620 --> 00:03:02,640
That state that limit.

55
00:03:02,660 --> 00:03:05,750
So now skip is limited.

56
00:03:05,800 --> 00:03:07,930
Now Skip is going to be equal to 6.

57
00:03:07,970 --> 00:03:11,180
So the next time we would click it of course we're going to do something.

58
00:03:11,180 --> 00:03:14,830
And at the end we will set the new state of Skip to 6.

59
00:03:14,840 --> 00:03:20,590
So if we click it again you know for a second time now it's going to be six plus six.

60
00:03:20,600 --> 00:03:21,460
So it's going to be 12.

61
00:03:21,470 --> 00:03:26,420
So every time I click load more you're going at 6 and some 6 right.

62
00:03:26,930 --> 00:03:31,010
So of course after we do this we need to you know make the actual request.

63
00:03:31,010 --> 00:03:38,450
So I'm going to say this that prompts the dispatch opening close and begin triggered this get products

64
00:03:38,450 --> 00:03:39,500
to shop.

65
00:03:39,500 --> 00:03:39,880
Right.

66
00:03:39,890 --> 00:03:42,020
So I'm going to go and get products to shop.

67
00:03:42,050 --> 00:03:47,240
We could do all of this on a single function with some verbals and some conditionals and everything

68
00:03:47,240 --> 00:03:54,050
else but I'd prefer to do it like this so it's a little bit clearer for you and for me and for me as

69
00:03:54,050 --> 00:03:56,760
well for us because I'm explaining.

70
00:03:57,020 --> 00:04:01,850
So of course we need to pass the script that is the first argument I'm going to say skip the second

71
00:04:01,910 --> 00:04:05,880
argument is that this that state that limit.

72
00:04:06,110 --> 00:04:08,000
Remember that we always need to pass the limit.

73
00:04:08,000 --> 00:04:11,170
If not it's going to bring 100 and we don't want that.

74
00:04:11,450 --> 00:04:14,620
Then we need to pass the filters because we might have filters.

75
00:04:14,750 --> 00:04:21,340
So does that state that filters coma and now I'm going to add one more.

76
00:04:21,590 --> 00:04:24,330
And this is what we did on the products action.

77
00:04:24,500 --> 00:04:27,140
Remember we attach a previous state.

78
00:04:27,140 --> 00:04:27,670
Right.

79
00:04:27,770 --> 00:04:32,430
So we can use this one and I can explain in a minute why we are attaching the previous state.

80
00:04:32,630 --> 00:04:39,470
So whenever we the application loads or maybe we make a filter or we filter something the state of the

81
00:04:39,470 --> 00:04:44,970
application of the products we have right here is going to be inside of the store redux ricotta redux.

82
00:04:44,990 --> 00:04:49,040
We have a few products right here inside to shop.

83
00:04:49,040 --> 00:04:53,550
Now whenever I make a request I'm not going to bring from zero.

84
00:04:53,570 --> 00:04:55,370
I'm going to bring the next six.

85
00:04:55,430 --> 00:05:02,890
So if I just don't kind of mutate that list I'm going to be replacing sex with another sex sex.

86
00:05:03,080 --> 00:05:06,680
So what I'm going to do I'm going to pass the previous the current list.

87
00:05:06,680 --> 00:05:10,760
We have the current state are going to pass it to the year to the function.

88
00:05:10,760 --> 00:05:17,120
And whenever we get the next six We're going to merge the old six with the new six and maybe later if

89
00:05:17,120 --> 00:05:23,180
we click on load more on the previous state we can have 12 so we can merge the previous 12 with the

90
00:05:23,180 --> 00:05:24,020
new six.

91
00:05:24,050 --> 00:05:25,060
That is the idea.

92
00:05:25,190 --> 00:05:27,400
That's why we are passing the previous state.

93
00:05:27,530 --> 00:05:33,500
So this prompts the products dot to shop.

94
00:05:33,530 --> 00:05:39,080
We are just passing everything we've got on the on the state on the store sorry.

95
00:05:39,320 --> 00:05:45,620
And of course then what I want to do and to do that we're going to do then and I'm going to do something

96
00:05:45,620 --> 00:05:46,790
that actually we need to do.

97
00:05:46,820 --> 00:05:50,900
Not the next time we clicked load more it's not going to work I'm going to do this.

98
00:05:50,900 --> 00:05:58,160
That said state and since we got a new state of KIPP right every time we do this we're going at six

99
00:05:58,160 --> 00:05:59,170
to skip.

100
00:05:59,710 --> 00:06:05,090
I'm going to pass the new state of Skip So the next time we click it instead of zero or 6 is going to

101
00:06:05,090 --> 00:06:07,670
be 12 or 18 or whatever.

102
00:06:07,670 --> 00:06:08,280
All right.

103
00:06:08,750 --> 00:06:13,070
So now we need to make some changes inside to get products to shop.

104
00:06:13,070 --> 00:06:18,140
So we're going to go to get products to shop because now we have a previous state and this it's not

105
00:06:18,140 --> 00:06:20,020
going to really work.

106
00:06:20,030 --> 00:06:25,430
Now what we need to do instead of just returning the response that data that articles that we get from

107
00:06:25,850 --> 00:06:27,610
Iraq from the server.

108
00:06:27,770 --> 00:06:30,180
We need to kind of do something first.

109
00:06:30,200 --> 00:06:38,370
So I'm going to go right here at the top and create let new state and I'm going to create a single rate

110
00:06:38,670 --> 00:06:39,230
array.

111
00:06:39,500 --> 00:06:45,580
So what I'm going to do I'm going to first inside this rate put whatever we get from the previous state.

112
00:06:45,770 --> 00:06:50,930
Now if we don't have anything by default it's an empty All right so nothing is going to get going to

113
00:06:51,110 --> 00:06:52,910
nothing right here.

114
00:06:53,030 --> 00:06:53,820
So OK.

115
00:06:54,140 --> 00:06:59,460
So I'm going to do coma and now instead of here I want to attach whatever we get back from the server

116
00:06:59,730 --> 00:07:03,420
so that that that response data articles.

117
00:07:03,620 --> 00:07:08,050
So at the very end we're going to get everything that we get with the pre-state.

118
00:07:08,120 --> 00:07:08,420
Right.

119
00:07:08,420 --> 00:07:09,320
Could be nothing.

120
00:07:09,350 --> 00:07:10,680
Or maybe something.

121
00:07:10,880 --> 00:07:14,460
And then we just merge what we get back from the server.

122
00:07:14,660 --> 00:07:21,360
So at the very end when we return to articles to the actual reduce or is a new state with more with

123
00:07:21,380 --> 00:07:24,990
six articles or 12 or 18 or whatever.

124
00:07:25,250 --> 00:07:25,830
OK.

125
00:07:26,360 --> 00:07:32,900
So I'm going to save it and if we go to products reducer this is what actually we don't need to change

126
00:07:32,900 --> 00:07:38,480
this one because we are already setting it to start to shop with the articles and we are actually doing

127
00:07:38,480 --> 00:07:40,430
the all the logic right here.

128
00:07:40,940 --> 00:07:41,300
OK.

129
00:07:41,330 --> 00:07:42,940
So let's go right here.

130
00:07:43,050 --> 00:07:45,530
I got to reload and.

131
00:07:45,550 --> 00:07:45,780
OK.

132
00:07:45,830 --> 00:07:47,360
We get the first six.

133
00:07:47,480 --> 00:07:51,440
If I click it again we get the all the sex.

134
00:07:51,500 --> 00:07:51,970
All right.

135
00:07:52,010 --> 00:07:54,230
So it's been working.

136
00:07:54,380 --> 00:07:57,240
So we have one two three you have six of course.

137
00:07:57,680 --> 00:07:59,490
Seven eight nine ten.

138
00:07:59,560 --> 00:08:00,260
All right.

139
00:08:00,320 --> 00:08:03,500
Maybe we don't have that much articles inside products.

140
00:08:03,590 --> 00:08:08,360
So one two three four five six and yeah that is.

141
00:08:08,360 --> 00:08:10,860
That is why we are getting that kind of incomplete.

142
00:08:11,240 --> 00:08:11,960
But that's OK.

143
00:08:12,000 --> 00:08:18,180
I'm going to add some of the products and I give you the file so we can add much more products.

144
00:08:18,180 --> 00:08:20,930
But again I'm going to take my time and begin to do it.

145
00:08:20,930 --> 00:08:22,720
Am I going to do it a little bit later.

146
00:08:22,970 --> 00:08:27,450
I'm going to take my time and you know make a better database because some of the names are really really

147
00:08:27,470 --> 00:08:28,100
fake.

148
00:08:28,160 --> 00:08:32,450
So I can enter a bunch of elements I'm going to give you that in a minute.

149
00:08:32,510 --> 00:08:37,960
Now first before we just move forward because a lot more it's pretty much done.

150
00:08:37,970 --> 00:08:44,850
We are done with this whole section to look for every time we click on the low bar.

151
00:08:45,350 --> 00:08:52,050
If we get if we don't have more results inside of here they load more.

152
00:08:52,060 --> 00:08:53,450
It's still showing.

153
00:08:53,450 --> 00:08:54,410
So that is a problem.

154
00:08:54,440 --> 00:08:56,850
If I click no more we are making the request.

155
00:08:56,850 --> 00:08:58,700
But you know nothing really happens.

156
00:08:58,700 --> 00:09:01,370
So what I need to do I need to hide the load more.

157
00:09:01,710 --> 00:09:04,330
So I'm going to go to load more carts.

158
00:09:04,580 --> 00:09:09,200
Now if you remember from the server we are returning a size.

159
00:09:09,500 --> 00:09:13,850
So the second time we clicked the size is not sex.

160
00:09:13,910 --> 00:09:14,180
Right.

161
00:09:14,180 --> 00:09:15,550
It's not the actual limit.

162
00:09:15,620 --> 00:09:16,470
It's going to be five.

163
00:09:16,490 --> 00:09:17,890
It's less than the sex.

164
00:09:17,990 --> 00:09:20,140
So we can we can actually do some logic right there.

165
00:09:20,260 --> 00:09:26,120
I'm going to go here and I'm going to wrap everything inside of a check.

166
00:09:26,140 --> 00:09:34,670
So I'm going to say OK if this props actually props this because this is not a class props that size

167
00:09:35,060 --> 00:09:38,890
it's greater than zero greater than zero.

168
00:09:38,900 --> 00:09:40,700
It means that we are getting results.

169
00:09:40,700 --> 00:09:42,650
So we should display a lot more.

170
00:09:42,710 --> 00:09:43,280
OK.

171
00:09:43,520 --> 00:09:44,330
That's good.

172
00:09:44,590 --> 00:09:45,740
This is not the problem.

173
00:09:45,820 --> 00:09:52,850
And I'm going to add one more and I'm going to say if the props I mean do it like this if props that

174
00:09:53,180 --> 00:09:59,310
size it's greater or greater or equal than this.

175
00:09:59,350 --> 00:09:59,940
Oh sorry.

176
00:10:00,110 --> 00:10:06,390
This that prompts that limit begin to do something if not going to do nothing.

177
00:10:06,710 --> 00:10:09,110
So what is the thing with this.

178
00:10:09,230 --> 00:10:10,070
Of course size.

179
00:10:10,130 --> 00:10:16,480
It's what we get from the server could be 6 or Kuraby are actually from 0 to 6.

180
00:10:16,520 --> 00:10:19,970
If it's equal or greater will never be greater.

181
00:10:20,000 --> 00:10:21,240
It's just going to be 6.

182
00:10:21,340 --> 00:10:28,400
If it's equal or greater than Propst that limit you know the number six in this case we are not going

183
00:10:28,410 --> 00:10:35,930
to of course we can show the actual load more because it's 6 and we might be getting more products the

184
00:10:35,930 --> 00:10:36,720
next time.

185
00:10:36,920 --> 00:10:41,800
But if it's less than 6 it's obvious that the server has no more results for this.

186
00:10:41,810 --> 00:10:47,050
So in this case of course we are not going to return anything that's why return no.

187
00:10:47,080 --> 00:10:48,440
Now there's one more catch with this.

188
00:10:48,460 --> 00:10:54,330
Of course what happens if you have 12 products so we will be still displaying the load for.

189
00:10:54,430 --> 00:11:00,210
But of course the next time we click it it's not going to show because we don't have more.

190
00:11:00,210 --> 00:11:01,720
It's going to be equal to zero.

191
00:11:02,200 --> 00:11:04,090
So we have six good.

192
00:11:04,300 --> 00:11:05,060
I click it.

193
00:11:05,230 --> 00:11:07,690
We have five and we get no more.

194
00:11:08,170 --> 00:11:12,830
So let's try to change this with a filter if I click an offender everything.

195
00:11:12,850 --> 00:11:16,290
You know we get a lot more and we get just fender.

196
00:11:16,600 --> 00:11:18,370
Ivan is all right.

197
00:11:18,430 --> 00:11:19,230
No more.

198
00:11:19,240 --> 00:11:23,120
Now we should be getting lot more and we get more.

199
00:11:23,170 --> 00:11:25,070
We're going to get Jackson OK.

200
00:11:25,090 --> 00:11:26,160
We didn't get anything.

201
00:11:26,170 --> 00:11:30,690
And of course if I click on this it's just going to bring me everything that it's related to the filter.

202
00:11:30,700 --> 00:11:35,120
We applied everything works OK so we are almost done.

203
00:11:35,140 --> 00:11:35,990
We are almost done.

204
00:11:36,030 --> 00:11:39,320
So we get to go to the next section and I'm going to do the grids.

205
00:11:39,630 --> 00:11:44,760
It's going to take us just five minutes is something very very simple and then we are done with this

206
00:11:45,150 --> 00:11:48,850
and everything all the rest of the rest of this.

207
00:11:49,050 --> 00:11:51,470
I'm going to be adding is as a bonus section.

208
00:11:51,510 --> 00:11:53,230
It's just if you want to know more.

209
00:11:53,280 --> 00:11:53,740
Right.

210
00:11:53,850 --> 00:11:55,950
So let's go to the next one and do the Gritz.

