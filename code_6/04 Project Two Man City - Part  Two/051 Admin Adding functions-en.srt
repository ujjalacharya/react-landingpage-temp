1
00:00:00,480 --> 00:00:05,850
All right so now let's create the logic for populating all the data we need right here including the

2
00:00:05,850 --> 00:00:07,160
list of teams.

3
00:00:07,350 --> 00:00:15,440
So now if I type something the application breaks because we didn't have that update form elements that

4
00:00:15,540 --> 00:00:22,200
update form for a function we have an other component so I'm going to go to sign in and the update form

5
00:00:22,200 --> 00:00:26,000
for this one is going to be the same block same logic same same thing.

6
00:00:26,000 --> 00:00:28,570
So I'm going to copy this from here.

7
00:00:28,650 --> 00:00:32,980
I'm going to go back to edit match and paste it down here.

8
00:00:33,000 --> 00:00:34,300
All right.

9
00:00:34,830 --> 00:00:41,550
So now the application will reload and if I type something at least we don't get any errors and we are

10
00:00:41,550 --> 00:00:44,150
able to update this correctly.

11
00:00:44,300 --> 00:00:46,740
But that is you know that's fine.

12
00:00:46,770 --> 00:00:52,380
So now we need to populate the data the inputs with the data of the team.

13
00:00:52,440 --> 00:00:57,900
And we need to bring the list of teams to the actual selects including local in a way.

14
00:00:57,900 --> 00:00:58,560
All right.

15
00:00:59,040 --> 00:01:02,560
So I'm going to go right here at the bottom and we need to do a lot of things.

16
00:01:03,000 --> 00:01:12,840
So we need to first fetch the ID fetch fetch team for the team we have with this ID and only Of course

17
00:01:12,900 --> 00:01:14,290
if we do have an ID.

18
00:01:14,490 --> 00:01:19,220
So on the component that amount to opening close first.

19
00:01:19,230 --> 00:01:26,680
I'm going to get the match ID so the match ID if you remember it's inside does that probs.

20
00:01:26,700 --> 00:01:33,680
And we are using re-act router so we can access match we can access programs dot ID.

21
00:01:33,780 --> 00:01:44,940
And of course if we do Konsole just like this console log and match ID we're going to get the idea of

22
00:01:44,940 --> 00:01:46,270
this match.

23
00:01:47,100 --> 00:01:48,370
So we get it right here.

24
00:01:48,510 --> 00:01:53,810
So now of course if we go to Edit match we will get an ID if we go to match or edit.

25
00:01:53,850 --> 00:01:55,350
And we want to add a match.

26
00:01:55,350 --> 00:01:57,470
We will not have an ID.

27
00:01:57,510 --> 00:01:59,310
So now we can we can check.

28
00:01:59,310 --> 00:02:02,640
We know we can make a question to the application.

29
00:02:02,640 --> 00:02:06,030
We can say if we do have a match do this.

30
00:02:06,060 --> 00:02:08,300
If not do it do something else.

31
00:02:08,490 --> 00:02:12,560
So if we don't have a match Id just like this.

32
00:02:12,770 --> 00:02:18,120
What we will do we will create a function right now to add match.

33
00:02:18,150 --> 00:02:19,790
So this is the form type.

34
00:02:19,890 --> 00:02:24,660
This is the action we will create with this form will add and you match if not of course we going to

35
00:02:24,660 --> 00:02:32,810
go and fetch all the data from this match ID we will enter the edit enter to the edit type of form.

36
00:02:33,030 --> 00:02:33,780
All right.

37
00:02:33,780 --> 00:02:38,420
How can we get the match from the ID we have right here at the top.

38
00:02:38,460 --> 00:02:39,290
Real simple.

39
00:02:39,360 --> 00:02:42,010
First of course we need to bring firebase.

40
00:02:42,150 --> 00:02:49,030
So I'm going to go to firebase right here on the top and import import.

41
00:02:49,070 --> 00:02:56,760
Open and close and we need the firebase matches remember and we need a few more things because we will

42
00:02:56,820 --> 00:03:03,750
make a request to the teams who will need to make up requests for the teams and we didn't have this

43
00:03:03,840 --> 00:03:07,710
on firebase so I'm going to go to firebase right here.

44
00:03:07,710 --> 00:03:13,110
And inside firebase we will you know create something like we did right here with matches and promotions

45
00:03:13,350 --> 00:03:15,930
to get the teams right.

46
00:03:16,090 --> 00:03:16,540
OK.

47
00:03:16,560 --> 00:03:26,370
So I'm going to create a new novel concept fire base and then teams just like this equals to firebase

48
00:03:26,370 --> 00:03:32,220
D-B dot ref and then met teams.

49
00:03:32,220 --> 00:03:34,560
So we have matches promotions and teams.

50
00:03:34,560 --> 00:03:41,040
This is this is get of course we need to export this and we're going to export as well.

51
00:03:41,040 --> 00:03:42,460
Is this firebase be.

52
00:03:42,480 --> 00:03:45,110
Because we can use it in a few minutes.

53
00:03:45,180 --> 00:03:49,320
So now we can import teams we can import matches and firebase DP.

54
00:03:49,350 --> 00:03:49,940
All right.

55
00:03:50,130 --> 00:03:56,920
So I to go back to an edit team and of course we need to require this at the top.

56
00:03:56,920 --> 00:04:06,120
So first we have the teams fire base and then teams then we have the firebase Stevie firebase and that

57
00:04:06,120 --> 00:04:07,960
D-B just like this.

58
00:04:08,040 --> 00:04:15,940
And then the matches fire bays and then matches from Dadar for Slash.

59
00:04:16,020 --> 00:04:19,840
One more time one more time and then firebase.

60
00:04:19,950 --> 00:04:29,100
So then of course we need that firebase Luper from the you tale's firebase and then Luper from Dadar

61
00:04:29,100 --> 00:04:30,990
force slash one more time.

62
00:04:31,100 --> 00:04:34,040
You I for Slash misc.

63
00:04:34,400 --> 00:04:35,330
All right.

64
00:04:36,030 --> 00:04:42,810
So I'm going to go right here at the bottom where we actually make the actual request right here and

65
00:04:42,810 --> 00:04:47,510
we need to use that firebase connector to bring the list of teams.

66
00:04:47,640 --> 00:04:54,390
And right here instead of using firebase mattress I'm going to use firebase D-B because right now we

67
00:04:54,390 --> 00:04:56,260
need to search by ID.

68
00:04:56,460 --> 00:04:59,330
So if we use Firebrace D-B we can do DOD.

69
00:04:59,340 --> 00:05:07,200
We can do ref and pass temp's strings say that we want to enter the matches for Slash and we want to

70
00:05:07,200 --> 00:05:14,160
bring the one that has the match ID we want just like this and this much ID it's equal to this one.

71
00:05:14,610 --> 00:05:19,700
So when this happens we're going to get this once we get to get value.

72
00:05:19,860 --> 00:05:23,190
And then of course we get our response back.

73
00:05:23,610 --> 00:05:30,010
So of course we will bring a snapshot just like before then we will run a function.

74
00:05:30,230 --> 00:05:36,640
I'm going to host this snapshot inside of Orvil called match and we will you know I'm going to get the

75
00:05:36,630 --> 00:05:37,520
bow out of this.

76
00:05:37,530 --> 00:05:41,150
So snap shot that bow opening close.

77
00:05:41,190 --> 00:05:41,900
All right.

78
00:05:42,150 --> 00:05:48,470
Now I'm going to do the following console law match just to make sure we are getting the match.

79
00:05:48,570 --> 00:05:57,240
So I'm going to go back in a little while we get know the the the actual match away away and everything

80
00:05:57,240 --> 00:05:57,960
else.

81
00:05:57,960 --> 00:05:58,410
All right.

82
00:05:58,440 --> 00:06:02,320
So this is get we get the information about the match from the server.

83
00:06:02,730 --> 00:06:04,190
So I'm going to delete this.

84
00:06:04,440 --> 00:06:09,930
And what we're going to be doing right now we need to trigger a different function and this function

85
00:06:09,930 --> 00:06:16,860
when it's going to be doing is going to go to the server fetch a list of teams and at the end at the

86
00:06:16,860 --> 00:06:24,540
very end we'll take that I.D. It will take all the data we can about to match and it will populate all

87
00:06:24,540 --> 00:06:27,480
the all the inputs right here dynamically.

88
00:06:27,480 --> 00:06:28,120
All right.

89
00:06:28,230 --> 00:06:31,900
So I'm going to call this function get teams.

90
00:06:31,920 --> 00:06:33,300
All right.

91
00:06:33,300 --> 00:06:40,650
So on this get teams for now it will not make any sense but I'm going to be passing two different arguments.

92
00:06:40,680 --> 00:06:42,790
First it's the match right.

93
00:06:42,830 --> 00:06:50,430
The all the information about the match and then coma and then are going to be passing added match.

94
00:06:50,430 --> 00:06:52,520
So this is the type of the form.

95
00:06:52,680 --> 00:06:59,390
And we're going to store this name later at the top on the state when whenever we have the form type.

96
00:06:59,430 --> 00:07:02,900
And of course that it's going to show up on the title right here.

97
00:07:02,970 --> 00:07:07,290
And on the bottom right here of course got teams is not to find me.

98
00:07:07,340 --> 00:07:09,460
Mendus OK.

99
00:07:10,230 --> 00:07:12,450
And this one as well the update for them.

100
00:07:12,450 --> 00:07:13,140
All right.

101
00:07:13,740 --> 00:07:14,820
So we don't have this function.

102
00:07:14,850 --> 00:07:16,410
We need to create the function.

103
00:07:16,710 --> 00:07:24,470
So first I got to say Konst get teams equals to a function just right now a function.

104
00:07:24,690 --> 00:07:26,070
And we're going to do something.

105
00:07:26,070 --> 00:07:30,420
Remember that this one will be receiving a match and a type.

106
00:07:30,420 --> 00:07:31,310
All right.

107
00:07:31,560 --> 00:07:39,180
So now instead of this one what we need to do is get the teams and I'm going to say get teams not team.

108
00:07:39,210 --> 00:07:41,430
So on this one we can use firebase teams.

109
00:07:41,430 --> 00:07:51,340
So fire base teams that once that value and then of course we get a promise back.

110
00:07:51,660 --> 00:07:56,900
So the promise we'll bring snapshot we will open it close and run a function.

111
00:07:56,910 --> 00:07:58,540
Same thing we did before.

112
00:07:58,590 --> 00:08:05,400
Now I'm going to do Konst going to create a contest and teams equals two.

113
00:08:05,420 --> 00:08:09,050
And remember that the information comes in a weird weird way.

114
00:08:09,180 --> 00:08:14,780
So we would use the firebase Luper to get everything like we want.

115
00:08:14,780 --> 00:08:19,830
Now I'm going to cancel all the teams we get from the server.

116
00:08:20,090 --> 00:08:21,070
All right.

117
00:08:21,660 --> 00:08:25,860
The application will reload and we get the teams.

118
00:08:26,140 --> 00:08:28,430
I get a whole list of teams.

119
00:08:28,530 --> 00:08:31,520
Let's get let's get now this teams.

120
00:08:31,530 --> 00:08:38,720
If you notice they have the name a short name and a thumbnail and an ID of course.

121
00:08:39,120 --> 00:08:44,790
And to feed this to the Select we cannot really do it like this.

122
00:08:44,790 --> 00:08:49,110
Remember we spoke previously that we have a key and a value.

123
00:08:49,110 --> 00:08:50,400
Let me just go back.

124
00:08:50,540 --> 00:08:53,460
You have a key and a value right here.

125
00:08:53,460 --> 00:08:59,640
So we kind of need to modify the list of teams and create a different rate which is the key which is

126
00:08:59,640 --> 00:09:04,170
the name of the team and maybe Abbad you with the ID or maybe the same name doesn't matter.

127
00:09:04,470 --> 00:09:10,010
So I'm going to go right here and say Konst and team options.

128
00:09:10,290 --> 00:09:13,370
Options options.

129
00:09:13,390 --> 00:09:13,960
Right.

130
00:09:14,260 --> 00:09:19,910
So this team options is going to start as an empty array and then me to delete the consulate.

131
00:09:20,320 --> 00:09:26,640
So what I'm going to do I'm going to enter the snapshot I'm going to say dad I'm going to do.

132
00:09:26,650 --> 00:09:28,300
I'm going to use that for each.

133
00:09:28,300 --> 00:09:32,790
We used to create firebase Luber same idea is out of here.

134
00:09:32,800 --> 00:09:43,250
Of course we get a child oh child snapshot and the child snapshot we will run a function.

135
00:09:43,270 --> 00:09:50,230
So what we will do will grab the team options and we're going to push a key and a value with whatever

136
00:09:50,230 --> 00:09:51,070
we want.

137
00:09:51,070 --> 00:09:57,710
This case I'm going to say we are going to enter that child's snapshot going to enter the bow and are

138
00:09:57,720 --> 00:10:03,700
going to get the short name short name you could use whatever you want but remember that in future you

139
00:10:03,700 --> 00:10:10,630
will need to you know change it and in real life in your application you can use the idea or maybe a

140
00:10:10,630 --> 00:10:11,630
different field.

141
00:10:11,820 --> 00:10:13,500
And in this one.

142
00:10:13,510 --> 00:10:17,840
Oh sorry instead of team options is child snapshot.

143
00:10:17,860 --> 00:10:24,610
And this one child snapshot that vowel and then OK we get again I'm going to use the same key you know

144
00:10:24,610 --> 00:10:30,100
same short name doesn't matter right now just to make things a little bit easier.

145
00:10:30,280 --> 00:10:38,120
So now if I do can log team options sorry team options.

146
00:10:38,290 --> 00:10:40,510
What is happening team options.

147
00:10:43,990 --> 00:10:46,810
We get the same thing but with a key and a value.

148
00:10:46,930 --> 00:10:55,800
So this this list we get to be passing this list to local anyway so the Select can you know render this

149
00:10:55,810 --> 00:10:57,080
options.

150
00:10:57,100 --> 00:10:58,490
So now we have a lot of things.

151
00:10:58,780 --> 00:11:06,700
We have the match which all the information about this match the type of the form we get the list of

152
00:11:06,700 --> 00:11:12,070
teams unmodified from the server which we are going to need and then we have the team options which

153
00:11:12,130 --> 00:11:15,280
are the options we need to pass to the selects.

154
00:11:15,280 --> 00:11:15,780
All right.

155
00:11:15,850 --> 00:11:17,230
So we have a lot of things.

156
00:11:17,500 --> 00:11:23,950
So now we need to create a function that is going to be grabbing all the data that we really need and

157
00:11:24,130 --> 00:11:26,400
populate all the data right here.

158
00:11:26,710 --> 00:11:27,470
OK.

159
00:11:28,000 --> 00:11:29,280
It's not going to be that hard.

160
00:11:29,590 --> 00:11:36,160
So I'm going to create a function called this update and then fields something like this that fields

161
00:11:36,730 --> 00:11:42,410
and I'm going to be passing the match I'm going to be passing the team option actually should be team

162
00:11:42,470 --> 00:11:45,030
options team options.

163
00:11:45,040 --> 00:11:45,830
All right.

164
00:11:46,300 --> 00:11:48,950
What else are going to be passing the teams.

165
00:11:49,090 --> 00:11:54,620
Teams we have right here the list up unmodified teams that are going to be passing the type we have

166
00:11:54,620 --> 00:11:56,570
with the top so type.

167
00:11:56,770 --> 00:11:59,540
And then at the end the match ID.

168
00:11:59,680 --> 00:12:01,740
So we have a lot of information right here.

169
00:12:02,580 --> 00:12:05,660
All right and all this is going to go to the state.

170
00:12:05,850 --> 00:12:12,040
Now we didn't have this update fields function so I'm going to go right here the top create the update

171
00:12:12,060 --> 00:12:13,710
Field's function.

172
00:12:13,800 --> 00:12:18,890
And of course we're going to do something that's going to be real simple of course with the update fields

173
00:12:18,940 --> 00:12:23,670
begin to receiving we're going to get be getting all this arguments doesn't matter.

174
00:12:23,670 --> 00:12:27,220
You could use some magic if you weren't right here.

175
00:12:27,300 --> 00:12:35,250
So first since I don't want to mutate the original state right now I'm going to create Konst new form

176
00:12:35,520 --> 00:12:36,040
data.

177
00:12:36,060 --> 00:12:46,020
Just like with it before and we're going to say data just like that and then dot dot dot dot state DOT

178
00:12:46,350 --> 00:12:49,780
form data are going to make a copy of this.

179
00:12:49,800 --> 00:12:56,490
Now I'm going to be looping all the keys inside the form data right here going to be looking through

180
00:12:56,500 --> 00:13:00,120
state date local and everything else too.

181
00:13:00,150 --> 00:13:03,780
You know populate the information I want.

182
00:13:04,100 --> 00:13:13,460
So I'm going to go and create a for now for letter key in the new form data.

183
00:13:13,480 --> 00:13:24,280
All right now if we don't have a match we can run this update fields whether we have an at match scenario

184
00:13:24,310 --> 00:13:26,100
or an edit match.

185
00:13:26,320 --> 00:13:34,150
So I kind of need to check right here if I do one to populate whatever I get from the match because

186
00:13:34,180 --> 00:13:37,800
maybe sometimes I'm going to be running something going to be trying to update something.

187
00:13:37,960 --> 00:13:45,230
And we don't have a match so we're going to ask first OK if we do have a match I want to update something.

188
00:13:45,340 --> 00:13:53,530
So if we do have a match just like this I want to enter this new form data whatever key we get from

189
00:13:53,530 --> 00:13:59,680
the 4 and change the value to whatever value it's inside the match.

190
00:13:59,770 --> 00:14:04,300
And the same key remember that the Met the match comes from the server.

191
00:14:04,570 --> 00:14:08,160
So it's if inside the match which is actual server.

192
00:14:08,470 --> 00:14:09,980
Let me just show you a match.

193
00:14:10,030 --> 00:14:14,030
You have a key that it's a way you know with the same key inside the form.

194
00:14:14,140 --> 00:14:21,250
You can get the body of away and stored inside state so we can update state and the same thing with

195
00:14:21,930 --> 00:14:22,700
with valid.

196
00:14:22,750 --> 00:14:31,110
Can Change new form data out whatever key and then valid and invalid to true if not of course we can

197
00:14:31,130 --> 00:14:33,280
get a validation error message.

198
00:14:33,280 --> 00:14:35,870
Now there's one more thing on this process.

199
00:14:35,890 --> 00:14:42,610
Whenever we are updating the information we update the values of the input elements of the data which

200
00:14:42,610 --> 00:14:43,450
is an input.

201
00:14:43,540 --> 00:14:50,000
But what happens with the selects what we we need to do is to of course we are up are updating the value

202
00:14:50,140 --> 00:14:53,260
but we are not updating the options right here.

203
00:14:53,320 --> 00:14:53,910
Me.

204
00:14:54,040 --> 00:14:57,730
A lot of information we are updating the value but not the options.

205
00:14:57,880 --> 00:15:02,750
And I can not do it right here because on some inputs they are text inputs.

206
00:15:02,770 --> 00:15:07,080
They don't have the config that options that we have on the selects.

207
00:15:07,120 --> 00:15:11,140
So I'm going to create one more if and this is going to is going to make sense.

208
00:15:11,140 --> 00:15:11,970
Don't worry.

209
00:15:12,250 --> 00:15:19,600
So inside if I'm going to check if the key it's triple equal to local and local We know that this is

210
00:15:19,840 --> 00:15:29,560
a select and I'm going to put or me find it because this keyboard is a different key word or an or key

211
00:15:29,610 --> 00:15:36,200
it triple equal to a way then we can add the options to the Confect.

212
00:15:36,310 --> 00:15:36,880
Right.

213
00:15:36,940 --> 00:15:42,370
So if you have a local We know that we need to put a list of teams right here and same thing on a way.

214
00:15:42,550 --> 00:15:47,920
So I'm going to access new form data and whatever key I'm going to enter the config.

215
00:15:48,130 --> 00:15:54,800
I'm going to enter the options just like this and this one we need to pass the team options right.

216
00:15:54,820 --> 00:15:55,640
Not the teams.

217
00:15:55,630 --> 00:16:00,310
This is an object the team in options we get the key and value and that's it.

218
00:16:00,370 --> 00:16:06,610
If I cancel law and the new form data let me just open this

219
00:16:11,440 --> 00:16:17,240
of course we get a date and the date notice that we have a do have a value and it's valid true.

220
00:16:17,560 --> 00:16:19,570
And same thing for the referee.

221
00:16:19,630 --> 00:16:20,650
We have a value.

222
00:16:20,710 --> 00:16:27,790
That is true and for local For example we have a valid true value Manchester City which is the one we

223
00:16:27,790 --> 00:16:29,950
have on this on this place.

224
00:16:29,950 --> 00:16:36,350
And if I open the config we have the options with all the teams inside.

225
00:16:36,520 --> 00:16:37,440
No really good.

226
00:16:37,520 --> 00:16:38,620
Simple.

227
00:16:38,650 --> 00:16:42,860
So now what we need to do we need to update state with this new form data.

228
00:16:43,030 --> 00:16:45,460
But we are not just going to update the form data.

229
00:16:45,490 --> 00:16:47,380
We need to update a lot of things.

230
00:16:47,380 --> 00:16:55,180
So there's not set state opening close and we need to first update the match Id remember that we do

231
00:16:55,180 --> 00:16:56,930
have match ideal.

232
00:16:56,980 --> 00:16:59,020
Trim this at the top.

233
00:16:59,130 --> 00:17:02,280
So I'm going to update the match ID then.

234
00:17:02,350 --> 00:17:02,990
What else.

235
00:17:03,040 --> 00:17:09,630
We have the we get the form type so we can to say form type form type.

236
00:17:09,760 --> 00:17:15,950
It's equal to whatever we get on the type so form type is equal to form type.

237
00:17:16,300 --> 00:17:18,090
So then we have the form data.

238
00:17:18,130 --> 00:17:24,760
So form data it's equal to new form data and there would have been the list of teams.

239
00:17:24,850 --> 00:17:29,650
Now the list of teams right now makes no sense.

240
00:17:29,650 --> 00:17:32,170
We have teams right here with an empty array.

241
00:17:32,380 --> 00:17:39,250
So we will pass the array which is the one that comes from the server and update that right now it makes

242
00:17:39,250 --> 00:17:41,800
no sense but later we can use it.

243
00:17:41,800 --> 00:17:42,490
All right.

244
00:17:43,060 --> 00:17:45,080
So I'm going to reload the application.

245
00:17:45,170 --> 00:17:50,300
We've already seen the result and we got the matchbooks because now we have a type.

246
00:17:50,740 --> 00:17:57,790
The date gets pre-populated the local It's the mental City Select that Haddington town and get all the

247
00:17:57,790 --> 00:17:58,930
other options.

248
00:17:58,990 --> 00:18:02,610
And right now of course we can type something if we wish.

249
00:18:02,980 --> 00:18:03,620
All right.

250
00:18:03,820 --> 00:18:07,440
And referee we get the stadium the none available game played.

251
00:18:07,450 --> 00:18:08,390
It's no.

252
00:18:08,440 --> 00:18:14,920
So again we are able to update everything you know to properly populate all the information and we do

253
00:18:14,920 --> 00:18:18,180
have an edit match because now we have a type.

254
00:18:18,190 --> 00:18:18,860
Right.

255
00:18:18,940 --> 00:18:19,590
Right.

256
00:18:19,600 --> 00:18:22,170
You know this is get so.

257
00:18:22,330 --> 00:18:23,290
So what is next.

258
00:18:23,290 --> 00:18:25,390
What what are we going to be doing next.

259
00:18:25,500 --> 00:18:27,460
Next is going to be editing the form.

260
00:18:27,470 --> 00:18:34,750
You know maybe making some changes and submitting the form to you know update the the entry update to

261
00:18:34,760 --> 00:18:35,460
match.

262
00:18:35,470 --> 00:18:37,130
So let's go to the next section and do it.

