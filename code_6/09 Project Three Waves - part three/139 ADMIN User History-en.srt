1
00:00:00,670 --> 00:00:04,900
All right so now we're going to get the user history and display history right here.

2
00:00:04,900 --> 00:00:06,280
Very very simple.

3
00:00:06,280 --> 00:00:10,880
I'm going to go to the index which is the user dashboard.

4
00:00:11,050 --> 00:00:17,290
And if you remember we've already have access to user and user data so we can grab that user data history

5
00:00:17,560 --> 00:00:18,390
from the user.

6
00:00:18,520 --> 00:00:21,010
And you know do a loop right here.

7
00:00:21,010 --> 00:00:27,000
So first I'm going to go I'm going to go here and I'm going to wrap this I'm going to make a conditional

8
00:00:27,340 --> 00:00:35,130
and are going to say OK if we do have a user and we do have user data and we do have a history history

9
00:00:35,980 --> 00:00:38,820
of course we're going to do something if not we're going to do no.

10
00:00:38,840 --> 00:00:40,290
Ryan same as always.

11
00:00:40,310 --> 00:00:41,660
So no.

12
00:00:42,430 --> 00:00:43,100
All right.

13
00:00:43,180 --> 00:00:45,410
And I'm going to put this inside of here.

14
00:00:45,700 --> 00:00:48,300
Now we need a place where we can render this.

15
00:00:48,300 --> 00:00:55,600
I'm not going to do it right here so I'm going to go to you tills inside user and create a history underscore

16
00:00:55,810 --> 00:00:57,010
blog.

17
00:00:57,770 --> 00:00:57,990
Right.

18
00:00:58,000 --> 00:01:05,810
This is going to be a re-act stateless components and I'm going to call it user just user.

19
00:01:06,460 --> 00:01:09,460
And then history and then block.

20
00:01:09,820 --> 00:01:10,530
Right.

21
00:01:10,570 --> 00:01:14,110
And for now just history block history that's OK.

22
00:01:14,390 --> 00:01:22,090
It's going to go back to index and require this at the top import and we call this user history block

23
00:01:23,470 --> 00:01:30,630
from dot dot for Slash utils for Slash and user for Slash.

24
00:01:30,640 --> 00:01:32,290
And then history block.

25
00:01:32,710 --> 00:01:38,860
Now of course this history block in order to render something it needs to receive the list of products

26
00:01:38,900 --> 00:01:40,150
no history.

27
00:01:40,390 --> 00:01:44,200
So I'm going to call it products you could call history you in it if you wish.

28
00:01:44,410 --> 00:01:51,440
So products equal and the same user user data and history OK.

29
00:01:51,610 --> 00:01:56,570
So now history blogs is going to receive some props and we're going to do something very simple we're

30
00:01:56,570 --> 00:02:02,530
just going to render a table right here a very slim and easy table.

31
00:02:02,530 --> 00:02:03,160
All right.

32
00:02:03,250 --> 00:02:10,930
We're going to let this going to rub everything into a class name and history underscore blocks.

33
00:02:11,020 --> 00:02:12,050
Right.

34
00:02:12,070 --> 00:02:15,780
So we have a table and we have a T head.

35
00:02:15,790 --> 00:02:16,300
Right.

36
00:02:16,300 --> 00:02:16,820
All right.

37
00:02:17,110 --> 00:02:18,860
So inside city had we have a T.

38
00:02:18,870 --> 00:02:19,500
Rowe.

39
00:02:19,600 --> 00:02:23,450
And then that's the hetter.

40
00:02:23,530 --> 00:02:23,980
All right.

41
00:02:24,070 --> 00:02:30,070
So the first thing we're going to do is the date of purchase right here then we're going to copy this

42
00:02:30,070 --> 00:02:33,280
out or have to type it again and we're going to have three more.

43
00:02:33,400 --> 00:02:38,980
The next one is going to be the actual product you know the name and the brand and then the price paid

44
00:02:39,580 --> 00:02:42,640
prize paid and then the quantity.

45
00:02:42,640 --> 00:02:45,390
So.

46
00:02:45,520 --> 00:02:46,550
All right.

47
00:02:46,690 --> 00:02:50,640
So right here you could provide the user if you wish.

48
00:02:50,710 --> 00:02:52,120
The idea of the transaction.

49
00:02:52,220 --> 00:02:54,770
Now the idea of our transaction is Mango.

50
00:02:54,790 --> 00:02:57,740
Mango mongoose ID or the payment ID.

51
00:02:57,880 --> 00:03:02,560
Now if you wish to create a different ID you could totally do it.

52
00:03:02,560 --> 00:03:07,490
If you go to the to the server and go to the package that Jason we are using crypt.

53
00:03:07,600 --> 00:03:14,290
So you can create your own encryption and use it as a you know transaction ID to store on the on the

54
00:03:14,490 --> 00:03:16,940
on the payment model.

55
00:03:16,980 --> 00:03:22,570
You can you can go there and use the generated hash and use it as that.

56
00:03:22,570 --> 00:03:24,990
And then of course keep that to the user.

57
00:03:24,990 --> 00:03:25,870
All right.

58
00:03:25,870 --> 00:03:26,700
I'm not going to do it.

59
00:03:26,710 --> 00:03:28,300
We're going to do something very simple.

60
00:03:28,510 --> 00:03:36,280
So we have a t body of course we have the T body open and close and again to create a function called

61
00:03:36,550 --> 00:03:41,440
render and then blocks something like that.

62
00:03:41,440 --> 00:03:44,200
And this is just going to be a function that's going to loop the products.

63
00:03:44,230 --> 00:03:44,850
Right.

64
00:03:44,890 --> 00:03:50,120
So Konst render blocks is just a function that returns some GSX.

65
00:03:50,230 --> 00:03:57,820
So we're going to go here and say OK if we do have props and we do have products you know this product

66
00:03:57,850 --> 00:04:02,740
key comes from prop's we are passing right here.

67
00:04:02,740 --> 00:04:09,160
All right then I'm going to do no where we don't have we don't get anything now since if we do have

68
00:04:09,160 --> 00:04:15,880
something we're going to do prompts that products that map open and close they're going to be passing

69
00:04:15,880 --> 00:04:17,560
the actual item.

70
00:04:17,560 --> 00:04:21,230
Or it could be product and then the iteration.

71
00:04:21,370 --> 00:04:29,240
And of course we return more GSX remember to do that do this and not the curly braces so t are open

72
00:04:29,280 --> 00:04:30,430
and close.

73
00:04:30,430 --> 00:04:34,780
I do key and I going to pass the iteration.

74
00:04:34,780 --> 00:04:37,470
So we have four different things to do.

75
00:04:39,010 --> 00:04:40,000
Just like that.

76
00:04:40,420 --> 00:04:43,240
And we have four different things.

77
00:04:43,240 --> 00:04:45,430
The first one is going to be the date.

78
00:04:45,460 --> 00:04:49,170
The problem is that the date looks a little bit weird.

79
00:04:49,210 --> 00:04:53,140
So this is the data purchase it's non readable for humans.

80
00:04:53,170 --> 00:05:01,750
So we've already installed momen so import moment from moment.

81
00:05:02,700 --> 00:05:08,140
So with moment of course if you don't know moments it's a library it's a third party library where we

82
00:05:08,140 --> 00:05:12,400
can we can use it to parse dates different formats of dates.

83
00:05:12,410 --> 00:05:15,140
Is the you know the best library for that.

84
00:05:15,130 --> 00:05:18,730
I'm there so we use moment open and close.

85
00:05:18,730 --> 00:05:20,020
We need to pass to moment.

86
00:05:20,020 --> 00:05:22,140
What is that we want to parse.

87
00:05:22,180 --> 00:05:25,750
So in this case is product and the date of purchase.

88
00:05:25,750 --> 00:05:29,080
Let me just copy right here.

89
00:05:29,080 --> 00:05:32,270
Date of purchase just to avoid typos.

90
00:05:32,410 --> 00:05:35,710
Then of course we need to pass the format so the format.

91
00:05:35,800 --> 00:05:37,170
It's very simple.

92
00:05:37,180 --> 00:05:43,410
We do month month date date and then Year Ear and one more time.

93
00:05:43,480 --> 00:05:43,850
That is it.

94
00:05:43,870 --> 00:05:46,890
We should be at least getting something and we do.

95
00:05:47,060 --> 00:05:47,410
All right.

96
00:05:47,410 --> 00:05:48,400
Very simple.

97
00:05:48,580 --> 00:05:50,780
Of course right here we need to pass the brand.

98
00:05:50,920 --> 00:05:55,810
So it's product not brand brand.

99
00:05:56,230 --> 00:06:03,420
And then the name of the product so product that name the next one is going to be the price.

100
00:06:03,430 --> 00:06:15,010
So product that price and the last one its product that quantity.

101
00:06:15,030 --> 00:06:17,480
All right let's see what we get.

102
00:06:17,560 --> 00:06:18,340
And there you go.

103
00:06:18,360 --> 00:06:22,620
Of course the price paid and the quantities just one that is OK.

104
00:06:23,220 --> 00:06:26,110
All right so this component it's pretty much done.

105
00:06:26,130 --> 00:06:29,100
We don't need to do anything else is something very very simple.

106
00:06:29,340 --> 00:06:29,520
Right.

107
00:06:29,520 --> 00:06:34,800
So on the next one we're going to do of course we're going to keep completing this because we need to

108
00:06:34,800 --> 00:06:36,480
do three more things.

109
00:06:36,480 --> 00:06:39,720
They use user information to update some of the user information.

110
00:06:39,930 --> 00:06:46,740
And then the site info and we can agree of course a new model on that one to store the page or the site

111
00:06:46,770 --> 00:06:49,120
information so we're going to do that.

112
00:06:49,120 --> 00:06:51,500
And later after the user information.

113
00:06:51,660 --> 00:06:56,180
And then at the end of course we will create the 4 0 4 and then we are ready to deploy.

