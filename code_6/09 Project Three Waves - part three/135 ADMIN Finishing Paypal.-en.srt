1
00:00:01,180 --> 00:00:04,180
OK so let's test if this is working.

2
00:00:04,450 --> 00:00:05,730
I'm going to go to people.

3
00:00:05,830 --> 00:00:08,490
I'm going to click it and it's going to open this.

4
00:00:08,620 --> 00:00:12,470
Now I'm going to go and open inspect it we're going to get a couple of hours.

5
00:00:12,900 --> 00:00:20,860
Let me do this because of course we are not an HDTV P.S. And you know we get kind of that error but

6
00:00:20,860 --> 00:00:21,830
that's OK.

7
00:00:21,860 --> 00:00:28,190
Now if you click it to continue we need to log in and remember that is the buyer so buyer.

8
00:00:28,240 --> 00:00:29,000
All right.

9
00:00:29,500 --> 00:00:32,670
And we need to pay three four.

10
00:00:32,750 --> 00:00:33,450
Sorry.

11
00:00:33,620 --> 00:00:34,980
And I'm going to do the following.

12
00:00:35,020 --> 00:00:35,810
Look at this.

13
00:00:35,890 --> 00:00:37,760
I'm going to cancel it.

14
00:00:37,780 --> 00:00:42,460
It's going to close and we get you know the to get the Konst lock.

15
00:00:42,610 --> 00:00:45,510
And this one comes from an canceled.

16
00:00:45,510 --> 00:00:50,470
So whenever we add they cancel the information or really close the connector we didn't get this.

17
00:00:50,470 --> 00:00:51,820
Of course we can catch it.

18
00:00:52,000 --> 00:00:54,960
And you know they give us the payment token the payment I.D..

19
00:00:55,150 --> 00:01:02,380
And in the intent it was a sale and you know a bunch of information you know too that it might be relevant

20
00:01:02,530 --> 00:01:04,560
if you want to store it someplace.

21
00:01:04,560 --> 00:01:11,140
Now when I want to do and I want to cancel this I want to remove the one with you know the really pricey

22
00:01:11,140 --> 00:01:15,650
guitar because I don't want to make large purchases.

23
00:01:15,670 --> 00:01:17,350
I just want to go and do 400.

24
00:01:17,350 --> 00:01:18,840
You know that's nice.

25
00:01:18,880 --> 00:01:20,610
I'm going to go to Paypal again.

26
00:01:20,900 --> 00:01:22,360
You're going to select a buyer.

27
00:01:22,360 --> 00:01:27,660
Of course a buyer and stay logged in for faster purchases.

28
00:01:27,760 --> 00:01:34,310
And then of course the password I believe it was testing 1 two three are going to log in.

29
00:01:34,480 --> 00:01:36,430
It might take a while of course.

30
00:01:38,490 --> 00:01:40,380
It's a little bit slow but that's OK.

31
00:01:40,670 --> 00:01:42,890
You know it's just a testing varment.

32
00:01:42,960 --> 00:01:46,260
And finally you get this of course you get the ship to.

33
00:01:46,370 --> 00:01:48,360
You're not really using this.

34
00:01:48,360 --> 00:01:53,760
And then of course paid with paypal Vernons or you can of course apply for a credit card or they can

35
00:01:53,760 --> 00:01:56,170
give you the option to pay with credit cards.

36
00:01:56,370 --> 00:01:58,170
They actually simulate that.

37
00:01:58,170 --> 00:01:59,800
So I'm going to click campaign now.

38
00:01:59,880 --> 00:02:00,310
OK.

39
00:02:00,420 --> 00:02:02,040
At the end we get this.

40
00:02:02,040 --> 00:02:05,170
The payment was succeeded and of course everything went OK.

41
00:02:05,340 --> 00:02:08,390
And we get the address which is data we get at the top.

42
00:02:08,490 --> 00:02:10,310
And if it was canceled it was false.

43
00:02:10,440 --> 00:02:17,070
The e-mail of the person that it's buying this they paid true they pay your I.D. payment I.D. If you're

44
00:02:17,070 --> 00:02:21,410
going to use it and the payment token and of course we get a return you are L..

45
00:02:21,420 --> 00:02:22,930
We are not really using this.

46
00:02:23,010 --> 00:02:29,700
But of course we can set this up from the accounts right here from the when we go to accounts inside

47
00:02:29,770 --> 00:02:33,420
sandbox see if I can find it.

48
00:02:33,730 --> 00:02:34,940
Oh no no.

49
00:02:34,940 --> 00:02:37,420
It's back into my career and credential.

50
00:02:37,420 --> 00:02:38,300
Sorry for that.

51
00:02:38,560 --> 00:02:40,360
So inside of Wavves

52
00:02:43,300 --> 00:02:46,790
at the bottom we get an option to return your l.

53
00:02:46,840 --> 00:02:52,600
Maybe after the purchase you want to send the user back to a different route so you can put it here.

54
00:02:52,630 --> 00:02:53,890
And it's of course going to work.

55
00:02:53,920 --> 00:02:55,960
It's going to send you back to a different journal.

56
00:02:56,050 --> 00:03:00,880
You're not going to use this because what we want to do is we want to catch from a function.

57
00:03:00,910 --> 00:03:02,550
This of course this return.

58
00:03:02,640 --> 00:03:07,330
And whenever of course everything goes OK we're going to do something to our component.

59
00:03:07,330 --> 00:03:11,190
So OK so if we get the payment was exceeded everything it's OK.

60
00:03:11,230 --> 00:03:13,800
We're going to go to this scenario.

61
00:03:13,870 --> 00:03:15,900
Of course we don't have an hour.

62
00:03:16,070 --> 00:03:19,900
We are not going to get an hour but it's OK if there is an error.

63
00:03:19,930 --> 00:03:21,180
You're going to get it right here.

64
00:03:21,340 --> 00:03:21,890
OK.

65
00:03:22,060 --> 00:03:27,310
So now what we need to do is we need to of course on each scenario at least on success and then cancel

66
00:03:27,580 --> 00:03:29,110
grab this data.

67
00:03:29,110 --> 00:03:29,560
Run.

68
00:03:29,590 --> 00:03:32,170
Run a function that goes to props right here.

69
00:03:32,170 --> 00:03:37,780
Remember we added some props to do some things and we're going to go right here in our application of

70
00:03:37,780 --> 00:03:43,000
course if we're going to do something if everything goes ok or something goes really bad.

71
00:03:43,120 --> 00:03:43,660
Right.

72
00:03:43,840 --> 00:03:44,220
OK.

73
00:03:44,380 --> 00:03:48,600
So I'm going to copy this and I'm going to paste it somewhere and then we're going to go in there and

74
00:03:48,640 --> 00:03:55,780
put it inside of the paypal and I'm going to put it put everything as a comment so you can have a reference

75
00:03:56,020 --> 00:03:57,260
of what's going on.

76
00:03:57,310 --> 00:04:02,320
Whenever they you know they pay the make the purchase because they're going to use this data.

77
00:04:02,890 --> 00:04:06,100
Ok so I place the success scenario right here.

78
00:04:06,200 --> 00:04:07,870
Let me put it right here.

79
00:04:07,880 --> 00:04:14,440
Maybe you know just copy this and put it on the success and I'm doing this so you can have a future

80
00:04:14,440 --> 00:04:16,400
reference of what's going on.

81
00:04:16,420 --> 00:04:22,750
Whenever we get the response back because in a few minutes in the next few lectures we're going to grab

82
00:04:22,750 --> 00:04:28,090
some of this information you know buy the key graph the values and we're going to store it on different

83
00:04:28,090 --> 00:04:31,570
places in our inside of our database or application.

84
00:04:31,570 --> 00:04:32,000
Right.

85
00:04:32,140 --> 00:04:33,900
So I need to have a reference to this.

86
00:04:33,970 --> 00:04:38,020
And of course I'm putting this so you can have a future reference whenever you download this project

87
00:04:38,020 --> 00:04:38,880
from get.

88
00:04:39,010 --> 00:04:39,440
All right.

89
00:04:39,760 --> 00:04:40,950
Now there's one more thing.

90
00:04:41,020 --> 00:04:46,810
Whenever we succeed with a payment if you go to the Sundogs account you go to accounts and you go to

91
00:04:46,810 --> 00:04:50,370
the facilitator right here facilitator you're going to get.

92
00:04:50,530 --> 00:04:52,850
You know what is going on inside of here.

93
00:04:52,930 --> 00:04:55,750
So today is July 17th right.

94
00:04:55,760 --> 00:04:57,600
So and this is the time.

95
00:04:57,850 --> 00:05:04,120
So you're going to get an education for all the transactions that are processed within of course your

96
00:05:04,120 --> 00:05:05,020
application.

97
00:05:05,020 --> 00:05:11,110
And if you click it is going to give you the of course right here transaction ID and everything else

98
00:05:11,250 --> 00:05:14,130
is going to give you the receipt for this invoice.

99
00:05:14,130 --> 00:05:15,270
Right.

100
00:05:15,400 --> 00:05:22,810
And of course by default whenever you make a purchase on Paypal the buyer will receive an email with

101
00:05:22,900 --> 00:05:27,550
all the notifications and all the you know whenever they make a purchase with their receipt receipt

102
00:05:27,580 --> 00:05:30,360
for your payment to test facilitator.

103
00:05:30,360 --> 00:05:32,840
So of course this is not really happening.

104
00:05:32,950 --> 00:05:38,560
It's what's going to happen on the reallife the user will get an email with the with the receipt right.

105
00:05:38,560 --> 00:05:42,980
Of course this is not happening because this e-mail it's not real not real at all.

106
00:05:43,120 --> 00:05:43,600
Right.

107
00:05:43,650 --> 00:05:44,370
OK.

108
00:05:44,980 --> 00:05:49,350
But we know that no the transaction is going is going and everything goes OK.

109
00:05:49,540 --> 00:05:50,200
All right.

110
00:05:50,620 --> 00:05:52,320
So let's go back to our obligation.

111
00:05:52,420 --> 00:05:55,610
So whenever we complete the purchase we want to do a few stuff.

112
00:05:55,780 --> 00:05:58,400
We want to clear everything right here.

113
00:05:58,510 --> 00:05:58,750
Right.

114
00:05:58,750 --> 00:05:59,780
We want to clear it.

115
00:05:59,980 --> 00:06:04,510
And then of course clear this and say thank you for purchasing whatever whatever whatever.

116
00:06:04,540 --> 00:06:07,950
So we need to still do a few few things right.

117
00:06:08,080 --> 00:06:12,220
So on the card we have the transaction error the council and the access.

118
00:06:12,370 --> 00:06:17,390
So whenever the transaction or success goes on I'm going to do that.

119
00:06:17,440 --> 00:06:25,600
I'm going to comment this going to go at the bottom and say this this this prompts just like this.

120
00:06:25,630 --> 00:06:27,490
And then on success.

121
00:06:27,970 --> 00:06:28,530
Right.

122
00:06:28,690 --> 00:06:29,610
And then we pass.

123
00:06:29,620 --> 00:06:32,220
Whenever we get from the payment.

124
00:06:32,230 --> 00:06:33,160
All right.

125
00:06:33,160 --> 00:06:38,380
Right so now we need to go to this transduction success and at the end whenever we complete the transaction

126
00:06:38,650 --> 00:06:39,970
we want to do this.

127
00:06:40,500 --> 00:06:46,240
The state that said state and we want to change it.

128
00:06:46,240 --> 00:06:50,320
Do we want to hide the total because we don't have a total anymore.

129
00:06:50,320 --> 00:06:55,390
And of course first we need to go out and dispatch an action so we can clear the card of the user or

130
00:06:55,570 --> 00:07:01,540
store the information off a at on a different place and every store located that you know that card

131
00:07:01,810 --> 00:07:04,370
instead of the payment history of the user.

132
00:07:04,380 --> 00:07:06,310
You need to do a lot of things first.

133
00:07:06,660 --> 00:07:12,730
But at the end whenever everything is ready we want to show the total and begin to hide the total force

134
00:07:12,730 --> 00:07:14,490
because we don't have a total anymore.

135
00:07:14,650 --> 00:07:18,600
And then we're going to do the show success going to show that success message.

136
00:07:18,730 --> 00:07:21,790
Before I went to do this I'm going to make going to make some changes.

137
00:07:21,970 --> 00:07:23,220
I made a mistake right here.

138
00:07:23,230 --> 00:07:29,880
Is unsuccess dull s and same thing at the top on success and right here.

139
00:07:29,890 --> 00:07:31,260
Same same thing other props.

140
00:07:31,270 --> 00:07:33,230
It's on success.

141
00:07:33,230 --> 00:07:39,780
Just fix this on success and this one one more as transduction on success.

142
00:07:39,840 --> 00:07:41,520
Sorry for this.

143
00:07:41,520 --> 00:07:42,020
All right.

144
00:07:42,380 --> 00:07:45,310
That's why we are not getting the stirringly Phi of the payment.

145
00:07:45,320 --> 00:07:46,820
And we were getting an object.

146
00:07:47,090 --> 00:07:47,680
OK.

147
00:07:48,170 --> 00:07:49,830
So let's try again clear.

148
00:07:49,840 --> 00:07:51,690
Everything is going to go to guitars.

149
00:07:51,830 --> 00:07:55,350
I'm going to add a cheap guitar and then go to my cart.

150
00:07:55,430 --> 00:08:01,080
We're going to do the Pay-Pal checkout let's do it again.

151
00:08:01,080 --> 00:08:02,080
All right that's fine.

152
00:08:02,100 --> 00:08:03,330
We need to log in again.

153
00:08:03,450 --> 00:08:06,480
So testing one two three.

154
00:08:06,600 --> 00:08:09,340
A state law then going to log in again.

155
00:08:09,630 --> 00:08:14,650
Of course you're not get the Paypal connector takes a while to connect.

156
00:08:14,750 --> 00:08:19,170
To of course trying to pass and you know Skip Skip the loading time.

157
00:08:19,320 --> 00:08:23,090
But if you're getting kind of a long loading time.

158
00:08:23,100 --> 00:08:25,310
Whenever you log in that is normal.

159
00:08:25,620 --> 00:08:30,560
So I'm going to go Mbaye now and when we come back to our component.

160
00:08:30,880 --> 00:08:31,230
Right.

161
00:08:31,350 --> 00:08:33,480
We think your order is complete.

162
00:08:33,480 --> 00:08:35,140
So we are getting the message.

163
00:08:35,200 --> 00:08:37,150
Now why this one.

164
00:08:37,230 --> 00:08:38,300
It's not good.

165
00:08:38,310 --> 00:08:43,770
You know it's not disappearing and it's because whenever we go back to our component we're going to

166
00:08:43,770 --> 00:08:49,280
do some logic some this patch and begin to return the story of the user.

167
00:08:49,310 --> 00:08:52,950
You know the cart and that card at this point is going to be empty.

168
00:08:52,980 --> 00:08:56,400
So when it returns empty of course this one will not show.

169
00:08:56,430 --> 00:08:56,990
Right.

170
00:08:57,000 --> 00:09:00,800
This has been managed by a different part on the application not the connector.

171
00:09:00,810 --> 00:09:03,720
You know not this transaction success.

172
00:09:03,720 --> 00:09:04,170
All right.

173
00:09:04,260 --> 00:09:05,420
But everything looks good.

174
00:09:05,460 --> 00:09:07,130
We can we make the purchase.

175
00:09:07,200 --> 00:09:10,720
We come back and then we get the thank you or there is complete.

176
00:09:10,890 --> 00:09:16,620
I'm not going to do the air because again this is Abdeen our placation maybe you want to show a dialog

177
00:09:16,620 --> 00:09:17,880
or maybe a text.

178
00:09:17,910 --> 00:09:19,600
I don't know whatever is that you want to do.

179
00:09:19,730 --> 00:09:24,290
And in this case if there is an error I'm going to say console log opening close.

180
00:09:24,360 --> 00:09:28,080
Remember we get some data right here on this ones as well.

181
00:09:28,080 --> 00:09:29,600
We get some data.

182
00:09:29,970 --> 00:09:31,770
So I'm just going to do a log.

183
00:09:31,860 --> 00:09:32,840
You know.

184
00:09:33,240 --> 00:09:36,770
So Pay-Pal error.

185
00:09:37,260 --> 00:09:44,830
And on the other one on the council I'm going to say transduction canceled transect Sion Council.

186
00:09:44,850 --> 00:09:50,280
It was like before you can do whatever you want right here maybe show dialog just like we did with the

187
00:09:50,280 --> 00:09:52,650
log in or they were just our same idea.

188
00:09:52,750 --> 00:09:54,890
Really simple.

189
00:09:55,200 --> 00:09:58,610
Of course this is still in our cart.

190
00:09:58,770 --> 00:10:04,740
The user on the user and in our server inside Mongo or Mongul T or whatever is going to be there.

191
00:10:04,920 --> 00:10:11,220
So whenever we come back we're going to dispatch an action to you know update the state of the cart

192
00:10:11,250 --> 00:10:12,120
of the user.

193
00:10:12,360 --> 00:10:15,180
So lets go to the next one and start creating all this logic.

194
00:10:15,210 --> 00:10:22,410
Its going to take us a while because we need to do two actions and we need to add a new plays on the

195
00:10:22,410 --> 00:10:28,650
server a new route that is going to be handling this and later of course scenes begin to get payments

196
00:10:28,690 --> 00:10:37,080
IDs coped Pay-Pal are going to get this we need a place for the administrators know to check the payments

197
00:10:37,320 --> 00:10:42,690
so much later we can create a new model so we can store you know the new payments.

