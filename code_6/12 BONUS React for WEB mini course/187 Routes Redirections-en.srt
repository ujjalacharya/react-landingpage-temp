1
00:00:01,280 --> 00:00:01,690
Right.

2
00:00:01,690 --> 00:00:07,180
So now we're going to talk about something that could be very important for your applications and it's

3
00:00:07,180 --> 00:00:09,340
going to be how to re direct users.

4
00:00:09,340 --> 00:00:14,100
So Riak router is going to provide us a component we can use to do this.

5
00:00:14,170 --> 00:00:17,260
And if you're thinking why would I redirect you user.

6
00:00:17,380 --> 00:00:23,830
Well let me tell you is one of those things that we are going to use it at least once in our projects.

7
00:00:23,830 --> 00:00:25,800
So first we need to import this.

8
00:00:25,830 --> 00:00:30,660
This module can do coma and then redirect.

9
00:00:30,670 --> 00:00:32,180
So how can we use this one.

10
00:00:32,200 --> 00:00:32,900
OK.

11
00:00:33,250 --> 00:00:35,960
We have different ways to use this.

12
00:00:35,980 --> 00:00:40,780
I'm going to go inside the router and notice that I am inside the switch and the router and I'm going

13
00:00:40,780 --> 00:00:43,180
to say read direct.

14
00:00:43,190 --> 00:00:46,800
Now this redirect is going to take a few options.

15
00:00:46,810 --> 00:00:52,800
If you're are inside the router first we have the from me make a space from.

16
00:00:53,110 --> 00:00:54,350
And then we have the two.

17
00:00:54,370 --> 00:01:01,600
And if you think about it it can make sense from is going to be from where we're going to get from which

18
00:01:01,990 --> 00:01:04,560
request and then do that too.

19
00:01:04,720 --> 00:01:11,080
So if we get a request from profile that the user is trying to enter the profile we're going to kick

20
00:01:11,080 --> 00:01:14,320
the user back to home make sense.

21
00:01:14,320 --> 00:01:15,750
So if I go to home.

22
00:01:15,980 --> 00:01:16,560
Good.

23
00:01:16,630 --> 00:01:21,260
If you go to post works if you go to profile it's going back to home.

24
00:01:21,370 --> 00:01:23,380
So it's kicking the user back for good.

25
00:01:23,410 --> 00:01:28,620
And if you see it right here at the top you can see D L flashing.

26
00:01:28,620 --> 00:01:30,330
You know it's just flashing.

27
00:01:30,440 --> 00:01:33,130
But this is one way to use it.

28
00:01:33,130 --> 00:01:35,980
Now the thing is that this is not very realistic.

29
00:01:36,190 --> 00:01:42,400
What you're going to be doing most of the times it's keeping the user back if he's not authorized or

30
00:01:42,400 --> 00:01:43,620
something like that.

31
00:01:43,840 --> 00:01:48,640
So I'm going to delete this now I don't need it right now and then I get a go at the top and just delete

32
00:01:48,640 --> 00:01:51,640
this one as well I'm going to go to post.

33
00:01:51,690 --> 00:01:53,640
I I'm going to go to profile.

34
00:01:53,850 --> 00:01:57,110
I'm going to bring this module this direct.

35
00:01:57,580 --> 00:02:05,920
So now inside the return what I can do is just use this redirect just like we use it for redirect opening

36
00:02:05,920 --> 00:02:06,670
close.

37
00:02:07,000 --> 00:02:13,060
And of course we don't have the option from because if you think about it from where we are already

38
00:02:13,090 --> 00:02:16,740
inside that route so we can use just the two.

39
00:02:17,080 --> 00:02:22,780
So whenever the react it's a rendering this component's is going to be days and it's going say OK OK

40
00:02:22,810 --> 00:02:25,200
we want to kick the user back no matter what.

41
00:02:25,510 --> 00:02:31,690
And it's going to kick the user back if I go to profile again to post it works profil not happening

42
00:02:31,840 --> 00:02:34,000
just clicking the user back.

43
00:02:34,350 --> 00:02:38,320
And again most of the times are going to be using this in a different context.

44
00:02:38,320 --> 00:02:44,440
If the user enters profile you want to check if the user is authorized and if it's not then it's going

45
00:02:44,440 --> 00:02:45,750
to run this code.

46
00:02:45,920 --> 00:02:52,770
So OK just going to copy this and I'm going to say redial and whatever just going to create a function.

47
00:02:53,170 --> 00:02:57,170
So right here at the top I'm going to say Konst reader or whatever.

48
00:02:57,350 --> 00:02:58,630
Open and close up.

49
00:02:58,630 --> 00:02:58,980
Sorry.

50
00:02:59,060 --> 00:02:59,890
I'm going to make it fun.

51
00:02:59,900 --> 00:03:03,690
Our function are very close.

52
00:03:03,760 --> 00:03:06,000
And this one is going to do this.

53
00:03:06,400 --> 00:03:08,900
So right here we are both in this function.

54
00:03:08,950 --> 00:03:13,020
The function should be running and after the function runs we're going to get this.

55
00:03:13,060 --> 00:03:21,330
Of course you know a reader let me see if we reload the page everything is working.

56
00:03:21,370 --> 00:03:22,560
We get no errors.

57
00:03:22,570 --> 00:03:24,790
This is a warning because we need to do some links.

58
00:03:24,790 --> 00:03:27,260
We are not using the link in the header.

59
00:03:27,520 --> 00:03:28,570
You're using that link.

60
00:03:28,660 --> 00:03:30,380
So you know but don't worry.

61
00:03:30,580 --> 00:03:33,060
So if you go to a profile it's passing.

62
00:03:33,100 --> 00:03:36,990
And so this code it's not being executed.

63
00:03:37,000 --> 00:03:39,500
And again if you think about it this is just.

64
00:03:39,520 --> 00:03:40,840
We are not doing anything.

65
00:03:40,900 --> 00:03:42,720
We're just putting the attack right here.

66
00:03:42,940 --> 00:03:43,860
So what you can do.

67
00:03:43,900 --> 00:03:52,480
You can just say return opening close and what it's going to do this function is going to inject this

68
00:03:52,480 --> 00:03:54,760
GSX inside here.

69
00:03:54,940 --> 00:03:59,780
So of course if you go to a profile not happening is just going to kick the user back again.

70
00:04:00,040 --> 00:04:00,750
OK.

71
00:04:00,900 --> 00:04:01,450
That's good.

72
00:04:01,450 --> 00:04:07,750
This works is a good method but I'm not a not a very big fan of just doing this.

73
00:04:07,990 --> 00:04:14,830
Now inside props if you remember whenever we use re-act router inside prompts we get a lot of features.

74
00:04:14,830 --> 00:04:19,170
A lot of methods we can use with you or else and with routes.

75
00:04:19,240 --> 00:04:23,030
So inside prompts you you have one that is going to be history.

76
00:04:23,050 --> 00:04:30,860
So we're going to enter prop's then enter history history then dot.

77
00:04:30,880 --> 00:04:34,350
And what I can say is push just like that.

78
00:04:34,450 --> 00:04:37,880
Push opening close and I'm going to specify.

79
00:04:37,960 --> 00:04:41,920
I want to kick the user back to which route in this case is going to be home.

80
00:04:42,030 --> 00:04:47,080
And this is not react this is just pure javascript or going to be interacting with the history of the

81
00:04:47,080 --> 00:04:53,050
browser and say OK I want to put this at the end of the list inside the browser.

82
00:04:53,080 --> 00:04:56,290
So of course the last element on the list is going to be executed.

83
00:04:56,290 --> 00:04:58,370
So it's going to go to this route.

84
00:04:58,390 --> 00:05:02,800
Now if I go to a profile you know works is not letting the user end.

85
00:05:02,890 --> 00:05:07,800
It's executing the function and the function it's just changed the history of the browser.

86
00:05:08,350 --> 00:05:13,890
So you know this one it's a little bit better because you're not using this module if you want.

87
00:05:13,930 --> 00:05:21,540
I can just delete this one and we're going to be including the one last module inside our application.

88
00:05:21,870 --> 00:05:22,200
OK.

89
00:05:22,240 --> 00:05:24,230
So it works good.

90
00:05:24,340 --> 00:05:28,080
So no we need to talk about in how to create a 4.

91
00:05:28,090 --> 00:05:37,450
0 4 that's something really important to read so how to create a 4 0 4 page that say that the route

92
00:05:37,450 --> 00:05:43,830
that the user is trying to enter it's not defined so it's going to be whatever route of course you should.

93
00:05:43,830 --> 00:05:49,270
That should give the user a component for this that it's not home.

94
00:05:49,270 --> 00:05:53,100
Notice that I'm typing whatever it's taking me to home.

95
00:05:53,290 --> 00:05:54,640
Why is it doing this.

96
00:05:54,640 --> 00:05:57,250
Because we have one rule that it's matching.

97
00:05:57,250 --> 00:06:03,040
Remember that our our last drought says that whenever you get a path for home it's going to take you

98
00:06:03,040 --> 00:06:03,850
back home.

99
00:06:03,850 --> 00:06:06,720
I'm sorry for Slash and then take you back home.

100
00:06:07,060 --> 00:06:09,700
So again this is just logic.

101
00:06:09,790 --> 00:06:14,650
If I do route right here and then open it close what we can do.

102
00:06:14,680 --> 00:06:17,160
We can just say if route nothing.

103
00:06:17,200 --> 00:06:22,630
If none of this criteria is are matched we want to fall back to this one.

104
00:06:22,630 --> 00:06:27,900
So we create kind of a fallback right here going to say render inside that we.

105
00:06:27,970 --> 00:06:30,930
Every route we get a method that's going to be called render.

106
00:06:31,180 --> 00:06:33,670
And we can render whatever we want right here.

107
00:06:33,670 --> 00:06:41,610
I'm going to open it close and just pass some GSX some some dumb GSX going to be oops four or four.

108
00:06:42,000 --> 00:06:42,770
OK.

109
00:06:43,300 --> 00:06:47,630
So if I go right here to this route of course this one is not right.

110
00:06:47,770 --> 00:06:53,710
That's not going happen it's not going to lead it's not going to show oops four or four because this

111
00:06:53,710 --> 00:06:58,050
rule the one before 400 for this condition is matched.

112
00:06:58,060 --> 00:07:02,650
So again we need to fall back one more time to the exact.

113
00:07:02,710 --> 00:07:06,390
So if I reload the page we get four four.

114
00:07:06,700 --> 00:07:10,210
And if I go home of course it works OK.

115
00:07:10,240 --> 00:07:16,230
So this is just the simplest way where you have how you can use for for using a fallback.

116
00:07:16,240 --> 00:07:21,610
Let's say that you want to render a component right here for a for for going to delete the render.

117
00:07:21,630 --> 00:07:28,150
I'm going to say whenever the around the user or the application is not finding a route for this we

118
00:07:28,150 --> 00:07:31,780
want to send the user to post whatever.

119
00:07:31,780 --> 00:07:39,520
So if you go to Home With works posts works profile works and if I type what ever taken is taking be

120
00:07:39,670 --> 00:07:41,430
taking us to posts.

121
00:07:41,560 --> 00:07:43,300
Ok so that works.

122
00:07:43,310 --> 00:07:50,200
So in real life you should be creating a component that is going to be for or four or not found something

123
00:07:50,200 --> 00:07:51,250
like that.

124
00:07:51,650 --> 00:07:51,980
OK.

125
00:07:52,030 --> 00:07:52,710
That's good.

126
00:07:52,780 --> 00:07:54,090
Let's keep moving forward.

127
00:07:54,220 --> 00:07:55,700
We need to do some other things.

128
00:07:55,750 --> 00:08:01,090
Really important things are the next section going to be talking about re-act life cycles.

