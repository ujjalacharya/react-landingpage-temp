1
00:00:00,680 --> 00:00:03,300
Rights and we got everything we need.

2
00:00:03,300 --> 00:00:07,490
So the first thing is going to be going and making some changes right here.

3
00:00:07,650 --> 00:00:11,670
So I'm going to go to the package to Jason of our whole project.

4
00:00:11,670 --> 00:00:18,000
You know the main one and are going to go here now before creating an application inside Heroku for

5
00:00:18,000 --> 00:00:19,470
sending everything to Heroku.

6
00:00:19,650 --> 00:00:23,560
We just pass it by Heroku which version of note we are using.

7
00:00:23,640 --> 00:00:30,870
We're going to go to the terminal and I'm going to say node minus minus B node minus v sorry and this

8
00:00:30,870 --> 00:00:34,250
is going to tell me that I'm using the version 8 1 3.

9
00:00:34,260 --> 00:00:38,700
So we need to specify on the Jasen on the package to Jason is going to go to Heroku.

10
00:00:38,700 --> 00:00:41,050
Which version of node we are using.

11
00:00:41,170 --> 00:00:44,040
And we do this by specifying the engines.

12
00:00:44,040 --> 00:00:51,270
So I'm going to say engines then we use an object and here we say that we are using node and then we

13
00:00:51,270 --> 00:00:54,460
just pass the version that is at.

14
00:00:54,480 --> 00:00:59,140
Now of course now we have a change in our file now in our product.

15
00:00:59,400 --> 00:01:01,290
So we need to do good.

16
00:01:01,390 --> 00:01:12,720
And then we add on this case then get commed minus m and you know pad changes in Jaison Arite are going

17
00:01:12,720 --> 00:01:20,580
to press center and then we do get pushed again to send everything to get have Burguet very very simple.

18
00:01:20,580 --> 00:01:26,180
Now we pretty much have everything set of course we need to do a lot more.

19
00:01:26,340 --> 00:01:29,750
But you know at least we can create an application inside Heroku.

20
00:01:29,790 --> 00:01:31,320
This is the only thing we need.

21
00:01:31,320 --> 00:01:32,220
So how can we do it.

22
00:01:32,280 --> 00:01:38,490
OK so I'm going to declare I'm going to use that Heroku command and I'm going to say create a press

23
00:01:38,490 --> 00:01:39,030
center.

24
00:01:39,030 --> 00:01:42,540
It's going to take a minute and that's it.

25
00:01:42,600 --> 00:01:43,190
That is then.

26
00:01:43,230 --> 00:01:49,560
This is the only thing we need to do is going to give your L right where this where we can actually

27
00:01:49,560 --> 00:01:51,000
see our application.

28
00:01:51,180 --> 00:01:55,150
And of course we get this you know get it done something else.

29
00:01:55,230 --> 00:02:01,060
But if I go here are going to go and put it right here.

30
00:02:01,350 --> 00:02:06,780
I'm going to press enter and you know Heroku welcome to your new app.

31
00:02:06,910 --> 00:02:11,720
Of course nothing is kind of really happening so far.

32
00:02:11,890 --> 00:02:17,590
So if I go to Heroku in a reload the application at least we are creating an application.

33
00:02:17,680 --> 00:02:22,660
This one it's not really related to what's happening here right.

34
00:02:22,660 --> 00:02:24,510
We just create an application.

35
00:02:24,520 --> 00:02:32,040
Now what we need to do is we need to grab all our contents and send to this application right here.

36
00:02:32,470 --> 00:02:34,230
So what I'm going to do I'm going to do.

37
00:02:34,230 --> 00:02:35,790
Clear again.

38
00:02:36,010 --> 00:02:42,580
All right going to declare and this time we do get push Heroku.

39
00:02:42,690 --> 00:02:48,220
So we're gonna grab everything that we have them get up of this repository and send it to that application

40
00:02:48,250 --> 00:02:49,340
inside Heroku.

41
00:02:49,570 --> 00:02:50,770
So I'm going to press center.

42
00:02:50,890 --> 00:02:52,220
It's going to take a while.

43
00:02:53,780 --> 00:02:59,370
Right so it's fetching it's Lincoln dependencies and it's doing all the stuff it needs to do.

44
00:03:00,110 --> 00:03:03,500
And it's almost done building succeeded it's compressing.

45
00:03:03,710 --> 00:03:09,530
And at the end of course you're going to get something like this deployed to Heroku and they know everything

46
00:03:09,530 --> 00:03:10,430
was done.

47
00:03:10,460 --> 00:03:15,710
Now again this is the year of our application so it's too much doing it's grabbing whatever we have

48
00:03:15,710 --> 00:03:16,390
right here.

49
00:03:16,550 --> 00:03:17,590
It's building it.

50
00:03:17,750 --> 00:03:22,640
And then of course it gives you the your L where it's doing this deploy Ryan.

51
00:03:22,850 --> 00:03:26,480
Of course if we go right here I reload the application.

52
00:03:26,480 --> 00:03:27,940
We get some errors.

53
00:03:28,040 --> 00:03:32,500
If you remember when we were creating the server we were getting cannot get.

54
00:03:32,660 --> 00:03:34,640
Well this is pretty much the same thing.

55
00:03:34,700 --> 00:03:39,620
We need to change some of the things right here inside the server and everything else.

56
00:03:39,710 --> 00:03:42,040
In order for this to work.

57
00:03:42,230 --> 00:03:42,570
All right.

58
00:03:42,590 --> 00:03:43,460
But the first part.

59
00:03:43,490 --> 00:03:44,650
It's done all right.

60
00:03:44,700 --> 00:03:49,490
At least we get something and it's showing something that's related to our application.

61
00:03:49,570 --> 00:03:50,050
OK.

62
00:03:50,420 --> 00:03:55,030
So the first thing we need to do is to link Mungo.

63
00:03:55,110 --> 00:03:55,720
Right.

64
00:03:55,820 --> 00:04:02,930
Because so far we're using in our computer Mongo from our computer not from this one is it is a different

65
00:04:02,960 --> 00:04:03,780
instance.

66
00:04:03,950 --> 00:04:10,550
So if I enter the application you need to do the same thing and go to resources.

67
00:04:10,720 --> 00:04:15,320
You're going to see this but an add ons and we need to find more add ons.

68
00:04:15,430 --> 00:04:17,550
So Mongo right.

69
00:04:17,660 --> 00:04:18,690
SURFACE.

70
00:04:18,950 --> 00:04:25,170
You actually you cannot use it by default without Heroku application or actually any server.

71
00:04:25,360 --> 00:04:26,250
You need to add it.

72
00:04:26,260 --> 00:04:30,220
And this is of course a different save service is a paid service.

73
00:04:30,250 --> 00:04:32,200
So yeah you need to pay for it.

74
00:04:32,200 --> 00:04:34,780
So I'm going to go to MBLAQ and Mongul TV.

75
00:04:34,810 --> 00:04:42,780
This is the service we get and I'm going to scroll at the bottom and it says plans and pricing.

76
00:04:42,820 --> 00:04:44,860
So this is these are the plans.

77
00:04:44,860 --> 00:04:46,940
You know what we can use.

78
00:04:47,260 --> 00:04:53,730
So by default we get a sandbox you know testing a sandbox for free.

79
00:04:54,250 --> 00:04:58,510
And of course that's what we need to link that one to our project and of course right now we are going

80
00:04:58,510 --> 00:05:00,020
to use free.

81
00:05:00,100 --> 00:05:08,110
Now how can we tell the application our application and the server that we want to use a sandbox we

82
00:05:08,110 --> 00:05:11,460
want to use a database among OTV database.

83
00:05:11,560 --> 00:05:12,250
Right.

84
00:05:12,330 --> 00:05:14,780
Are going to go to the two.

85
00:05:14,800 --> 00:05:17,410
You know the terminal are going to clear.

86
00:05:17,640 --> 00:05:18,360
OK.

87
00:05:19,090 --> 00:05:21,620
So first we need to do Heroku.

88
00:05:21,730 --> 00:05:24,880
You know access that and then we say Anand's.

89
00:05:25,030 --> 00:05:29,960
Now with this add ons and then Collen and we pass the name of whatever on you want to add.

90
00:05:30,070 --> 00:05:34,660
In this case we're going to do Mongo but you have much more you just pass the name of whatever you want

91
00:05:34,660 --> 00:05:41,170
to add and then you know the what what would the configuration that the library or the the deep the

92
00:05:41,170 --> 00:05:42,330
service tells you.

93
00:05:42,520 --> 00:05:48,760
In this case we need to say add ons create we are going to create a new one and then we specify which

94
00:05:49,120 --> 00:05:53,650
on which is Mongo laugh CONAN And what type of plan.

95
00:05:53,710 --> 00:05:56,060
In this case it's sandbox.

96
00:05:56,320 --> 00:06:01,690
And for now right now for me it's not going to happen but maybe it's going to happen for you and I'm

97
00:06:01,690 --> 00:06:08,130
going to tell you why in a minute I'm going to press center and it's going to say creating sandbox takes

98
00:06:08,130 --> 00:06:09,330
a few a few seconds.

99
00:06:09,340 --> 00:06:10,110
And that is it.

100
00:06:10,120 --> 00:06:13,740
So if you're getting this you're good to go now.

101
00:06:13,770 --> 00:06:20,170
Maybe you're going to get a message saying that you need to you need to link Mongul laugh or at least

102
00:06:20,260 --> 00:06:26,080
your Heroku account to a credit card and you will need to do it.

103
00:06:26,170 --> 00:06:27,000
Sorry for that.

104
00:06:27,130 --> 00:06:28,660
So let me go right here.

105
00:06:28,720 --> 00:06:30,250
I'm going to go to the profile.

106
00:06:30,280 --> 00:06:33,320
We're going to go to account settings and on the billing.

107
00:06:33,520 --> 00:06:37,860
I have a credit card linked and current usage zero.

108
00:06:38,080 --> 00:06:42,890
So you will need to link a credit card in the past.

109
00:06:42,910 --> 00:06:45,070
Actually we didn't didn't have to do this.

110
00:06:45,130 --> 00:06:52,630
It was you know free to use with no credit card but a lot of people you know they were misusing this

111
00:06:52,690 --> 00:06:54,210
sandbox account.

112
00:06:54,610 --> 00:07:00,040
So you know they said OK you need to have a credit card because if you really use it for production

113
00:07:00,710 --> 00:07:02,120
you're going to charge you.

114
00:07:02,170 --> 00:07:04,950
So you really need to use a credit card or for that.

115
00:07:05,210 --> 00:07:07,630
There's no way around this.

116
00:07:07,630 --> 00:07:08,280
All right.

117
00:07:08,650 --> 00:07:09,480
Well that's great.

118
00:07:09,550 --> 00:07:14,500
So once you add the credit card to your account and everything else and I assure you there are now going

119
00:07:14,500 --> 00:07:15,010
to charge you.

120
00:07:15,010 --> 00:07:20,350
I don't I don't use this account for production or use just for testing and I've been using it for like

121
00:07:20,440 --> 00:07:22,960
I don't know three years maybe more.

122
00:07:22,960 --> 00:07:23,780
Never a penny.

123
00:07:23,800 --> 00:07:24,770
Nothing.

124
00:07:24,850 --> 00:07:26,040
So don't worry about that.

125
00:07:26,260 --> 00:07:26,950
OK.

126
00:07:27,880 --> 00:07:33,820
So I'm going to go back to the dashboard right here dashboard and go back to our application.

127
00:07:33,940 --> 00:07:39,630
Now if you go right here to the overview is going to say install add ons and you get the Mongul laugh.

128
00:07:39,640 --> 00:07:43,350
And of course if you have more add ons they're going to show up there.

129
00:07:43,600 --> 00:07:44,100
OK.

130
00:07:44,300 --> 00:07:44,980
That is good.

131
00:07:45,070 --> 00:07:49,310
So now we have Mongo in our computer in our project right.

132
00:07:50,500 --> 00:07:56,430
We need to do a lot of things because we fight deploy to Heroku again this is still going to fail.

133
00:07:56,950 --> 00:08:04,160
Now I'm going to go right here and it says Create a Mongul laugh as Mongo DVH you are.

134
00:08:04,280 --> 00:08:13,420
I if you remember in our project we were using the dot E-M B and this virals contain the location of

135
00:08:13,420 --> 00:08:16,990
where your you know Bongo DVDs are going to work.

136
00:08:16,990 --> 00:08:18,840
Your database is going to work.

137
00:08:18,940 --> 00:08:22,660
And this is the name of the database not this one anymore.

138
00:08:22,690 --> 00:08:26,490
So we cannot use that Deedat be.

139
00:08:27,010 --> 00:08:29,980
And that maybe is just for testing in our computer.

140
00:08:30,000 --> 00:08:37,210
What we will need to do is answer to the to our project to the server add all of this virals manually

141
00:08:37,750 --> 00:08:42,830
and whenever the application loads inside of the Heroku server is going to take.

142
00:08:42,850 --> 00:08:43,380
Oh OK.

143
00:08:43,390 --> 00:08:49,030
I need to access to process that maybe we'll just inside the server and the cloud name and everything

144
00:08:49,030 --> 00:08:49,990
else.

145
00:08:49,990 --> 00:08:52,790
Now I made a mistake right here and I'm going to change it right now.

146
00:08:52,930 --> 00:08:55,010
It's Mongo divi you or I.

147
00:08:55,180 --> 00:08:59,840
And I'm going to change the dot EFB instead of database.

148
00:08:59,860 --> 00:09:01,480
Mongo HD-TV you or I.

149
00:09:01,490 --> 00:09:03,160
And same thing on the server.

150
00:09:03,160 --> 00:09:05,050
This is actually my mistake.

151
00:09:05,110 --> 00:09:10,060
So instead of a database is going to be process that M-B Mongo DVH you or I.

152
00:09:10,210 --> 00:09:17,740
So whenever we send this application to the server and on the server we'll do this by our rules whenever

153
00:09:17,740 --> 00:09:23,890
the application starts and says oh I need to use process that maybe this virals are going to exist right

154
00:09:23,890 --> 00:09:26,340
now they does not exist.

155
00:09:26,590 --> 00:09:28,690
Now how can we check it out.

156
00:09:29,020 --> 00:09:32,050
We access Heroku and we say config.

157
00:09:32,350 --> 00:09:40,990
So by using config the this command will show all the variables the dot process that M-B bbls we have

158
00:09:40,990 --> 00:09:41,590
on the server.

159
00:09:41,590 --> 00:09:46,020
So if I press it we get only one which is the Mongo divi you or I.

160
00:09:46,300 --> 00:09:52,970
So whenever we specify process dot EFB and then Mongo gives you your are you are I.

161
00:09:52,990 --> 00:09:58,330
Our application is going to be using this instead of whatever we have on the dot and B you know the

162
00:09:58,400 --> 00:10:00,700
Daddums again is a simulation.

163
00:10:00,700 --> 00:10:06,710
So now what we need to do we need to add the secret the cloud name the API key and the API secret.

164
00:10:07,170 --> 00:10:07,790
OK.

165
00:10:08,050 --> 00:10:08,470
That's good.

166
00:10:08,480 --> 00:10:11,010
So how can we add it real simple.

167
00:10:11,060 --> 00:10:14,830
Did Heroku then config just like this.

168
00:10:15,000 --> 00:10:21,850
And we do Collon and we need to do set you have more options like unset you know to delete a viable.

169
00:10:21,940 --> 00:10:24,360
I believe you have one for update if you wish.

170
00:10:24,490 --> 00:10:26,980
So yeah you can check the Hoku documentation.

171
00:10:26,980 --> 00:10:28,660
It's pretty pretty clear.

172
00:10:28,990 --> 00:10:33,360
So we can set several bbls on the same command.

173
00:10:33,370 --> 00:10:34,930
So first I'm going to do the secret.

174
00:10:35,310 --> 00:10:38,720
Can I say secret equals and just copy.

175
00:10:38,800 --> 00:10:39,740
Same thing.

176
00:10:40,060 --> 00:10:41,470
All right.

177
00:10:41,470 --> 00:10:43,040
What else can it do space.

178
00:10:43,060 --> 00:10:52,000
We have the cloud clout name so cloud name equals and I'm just going to copy all club name space then

179
00:10:52,010 --> 00:10:55,710
we have the cloud API key going to copy and paste.

180
00:10:55,730 --> 00:10:56,660
Now we have this one.

181
00:10:56,650 --> 00:10:59,450
The cloud API is secret right.

182
00:10:59,480 --> 00:11:02,050
Going to make some space and paste it.

183
00:11:02,090 --> 00:11:03,220
Now I'm going to press enter.

184
00:11:03,230 --> 00:11:04,440
It's going to take a second.

185
00:11:05,480 --> 00:11:06,290
And that is it.

186
00:11:06,290 --> 00:11:08,590
So now again if I do Heroku confect

187
00:11:12,120 --> 00:11:14,800
we get all the you know environment variables.

188
00:11:15,090 --> 00:11:20,350
So now this Marble's we have on the server whenever this is working on the server they're going to work.

189
00:11:20,350 --> 00:11:22,500
You know they will have values.

190
00:11:22,560 --> 00:11:23,370
All right.

191
00:11:23,370 --> 00:11:26,380
So this is the first thing we need to do we need to do more things.

192
00:11:26,490 --> 00:11:30,870
But I believe know I know that that's why in 11 minutes it's OK.

193
00:11:31,100 --> 00:11:31,330
OK.

194
00:11:31,350 --> 00:11:34,870
So I'm going to give you a kind of a simulated scenario.

195
00:11:35,160 --> 00:11:39,360
After we push this to production I'm not going to do it right now because it takes time and it's not

196
00:11:39,360 --> 00:11:45,930
going to work if I push it right now to production every time you know you create up a project in this

197
00:11:45,930 --> 00:11:52,800
case most of the times the server actually pretty much always what it renders in your screen in the

198
00:11:52,800 --> 00:11:56,480
browser is going to be the build of your single page app.

199
00:11:56,610 --> 00:11:57,620
Right.

200
00:11:57,630 --> 00:11:59,860
Actually we kind of did this previously.

201
00:12:00,000 --> 00:12:03,260
You make you run NPM or Yorn crumbled.

202
00:12:03,360 --> 00:12:09,480
You will get a build directory and what you've sent to the server is that built right and that and that

203
00:12:09,510 --> 00:12:12,870
Jason with that index it's what's going to be rendered on the screen.

204
00:12:12,960 --> 00:12:18,360
So while this is pretty much the same thing if we create a build right now every time we make a change

205
00:12:18,360 --> 00:12:24,510
in our application we need to run the build manually again and then send it to the server.

206
00:12:24,510 --> 00:12:28,440
Now there is an we've got an easier way to do this.

207
00:12:28,500 --> 00:12:33,750
I'm going to go to the package that Jason just like here and inside of the package adjacent Jason we

208
00:12:33,870 --> 00:12:36,920
of course need to make some changes.

209
00:12:36,910 --> 00:12:40,710
Now here we have we get the def and that one stays the same.

210
00:12:40,740 --> 00:12:44,280
This one is going to work in our computer right.

211
00:12:44,280 --> 00:12:47,930
Every time we need to run the development server we just leave that one there.

212
00:12:48,060 --> 00:12:51,580
But we need to add one more one one more.

213
00:12:51,780 --> 00:12:58,070
And this one is going to be Heroku dash and post built just like this.

214
00:12:58,140 --> 00:13:04,670
So whenever we deploy our project Heroku Hiroko will read our package that Jason and it's going to say

215
00:13:04,710 --> 00:13:05,150
Oh OK.

216
00:13:05,160 --> 00:13:08,150
So this dude has a parochial post Bill.

217
00:13:08,460 --> 00:13:11,180
So what this is going to do.

218
00:13:11,220 --> 00:13:16,620
The application Heroku is going to try to do the builds are going to send everything to the server is

219
00:13:16,650 --> 00:13:21,510
going to download everything for the server all the dependencies and then is going to say okay I get

220
00:13:21,520 --> 00:13:27,960
a post Bill so I need to enter the client run a built in all of this is going to happen on the server

221
00:13:27,990 --> 00:13:33,670
for us it's going to run the build and at the end what we will be rendering it's the build right here

222
00:13:33,690 --> 00:13:35,630
the top that it's going to be on the server.

223
00:13:35,910 --> 00:13:39,720
So it's pretty much we are just automating everything.

224
00:13:39,720 --> 00:13:43,090
So we need to write a few few things right here.

225
00:13:43,110 --> 00:13:45,000
A few set of instructions.

226
00:13:45,330 --> 00:13:53,850
So what we do it's capitol NPM underscore that config underscore production.

227
00:13:53,850 --> 00:14:00,180
So what we say you know this one it's not production but there's ok that way.

228
00:14:00,270 --> 00:14:07,440
So then of course we need to pretty much did do what we did here which concurrently don't thing is that

229
00:14:07,440 --> 00:14:09,120
this is going to happen on the server.

230
00:14:09,120 --> 00:14:17,280
So in this case we do NPM install space space and when need specified the clients let me make this smaller

231
00:14:18,860 --> 00:14:25,070
go when you specify the client just like we did right here minus minus prefix and then client well this

232
00:14:25,070 --> 00:14:30,230
is the same same thing prefix and then we do client.

233
00:14:30,290 --> 00:14:35,250
All right then I'm going to do and percent and I can do one more thing.

234
00:14:35,390 --> 00:14:39,690
I'm going to do NPM run build.

235
00:14:39,770 --> 00:14:41,110
So we are pretty much passing.

236
00:14:41,120 --> 00:14:45,740
You know what we're going to be doing what we're going to be doing in this case whenever we go to the

237
00:14:45,740 --> 00:14:46,150
client.

238
00:14:46,160 --> 00:14:52,880
We go and we install all the dependencies we get in the node module that that's what can happen first.

239
00:14:52,910 --> 00:14:57,560
Once everything is installed it's going to go and run this one which is to build.

240
00:14:57,650 --> 00:15:05,470
So we say NPM run build the Riego make smaller and we do pretty much the same thing.

241
00:15:05,510 --> 00:15:09,630
And this is going to happen on the client.

242
00:15:09,670 --> 00:15:10,870
All right.

243
00:15:10,870 --> 00:15:11,790
And that is it.

244
00:15:11,800 --> 00:15:17,500
So whenever we send this to production Heroku will recognize there's an after building whenever it needs

245
00:15:17,500 --> 00:15:22,560
to build for the server is going to go to the client and build build that as well.

246
00:15:22,840 --> 00:15:23,770
All right.

247
00:15:23,770 --> 00:15:26,170
So that is the first thing going to save this.

248
00:15:26,180 --> 00:15:30,880
Of course we need to go to get her to push everything to get and get help.

249
00:15:31,150 --> 00:15:36,460
But we have more changes and we're going to go to the next one because you know it's a little bit long

250
00:15:36,760 --> 00:15:38,330
and we need to do it on the server.

251
00:15:38,380 --> 00:15:39,820
So let's go to the next one.

252
00:15:39,850 --> 00:15:40,810
Do the server.

253
00:15:40,990 --> 00:15:43,970
And then we are pretty much ready to send this to production.

